<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Spawning Processes</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
<link rel="start" href="index.html" title="GLib Reference Manual">
<link rel="up" href="glib-utilities.html" title="GLib Utilities">
<link rel="prev" href="glib-Timers.html" title="Timers">
<link rel="next" href="glib-File-Utilities.html" title="File Utilities">
<meta name="generator" content="GTK-Doc V1.7 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="glib.html" title="GLib Overview">
<link rel="chapter" href="glib-fundamentals.html" title="GLib Fundamentals">
<link rel="chapter" href="glib-core.html" title="GLib Core Application Support">
<link rel="chapter" href="glib-utilities.html" title="GLib Utilities">
<link rel="chapter" href="glib-data-types.html" title="GLib Data Types">
<link rel="chapter" href="tools.html" title="GLib Tools">
<link rel="index" href="ix01.html" title="Index">
<link rel="index" href="ix02.html" title="Index of deprecated symbols">
<link rel="index" href="ix03.html" title="Index of new symbols in 2.2">
<link rel="index" href="ix04.html" title="Index of new symbols in 2.4">
<link rel="index" href="ix05.html" title="Index of new symbols in 2.6">
<link rel="index" href="ix06.html" title="Index of new symbols in 2.8">
<link rel="index" href="ix07.html" title="Index of new symbols in 2.10">
<link rel="index" href="ix08.html" title="Index of new symbols in 2.12">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="glib-Timers.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="glib-utilities.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Справочное описание GLib</th>
<td><a accesskey="n" href="glib-File-Utilities.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2789957" class="shortcut">Начало</a>
                  &#160;|&#160;
                  <a href="#id2790423" class="shortcut">Описание</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="glib-Spawning-Processes"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2789957"></a><span class="refentrytitle">Spawning Processes</span>
</h2>
<p>Spawning Processes &#8212; Порождение процессов с помощью <code class="function"><code class="function">fork()</code></code>/<code class="function"><code class="function">exec()</code></code>.</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Краткое описание</h2>
<pre class="synopsis">

#include &lt;glib.h&gt;


enum        <a href="glib-Spawning-Processes.html#GSpawnError">GSpawnError</a>;
#define     <a href="glib-Spawning-Processes.html#G-SPAWN-ERROR:CAPS">G_SPAWN_ERROR</a>
enum        <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a>;
void        (<a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">*GSpawnChildSetupFunc</a>)         (<a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes">g_spawn_async_with_pipes</a>        (const <a href="glib-Basic-Types.html#gchar">gchar</a> *working_directory,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **argv,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **envp,
                                             <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a> flags,
                                             <a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">GSpawnChildSetupFunc</a> child_setup,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-The-Main-Event-Loop.html#GPid">GPid</a> *child_pid,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *standard_input,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *standard_output,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *standard_error,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-Spawning-Processes.html#g-spawn-async">g_spawn_async</a>                   (const <a href="glib-Basic-Types.html#gchar">gchar</a> *working_directory,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **argv,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **envp,
                                             <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a> flags,
                                             <a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">GSpawnChildSetupFunc</a> child_setup,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-The-Main-Event-Loop.html#GPid">GPid</a> *child_pid,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-Spawning-Processes.html#g-spawn-sync">g_spawn_sync</a>                    (const <a href="glib-Basic-Types.html#gchar">gchar</a> *working_directory,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **argv,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **envp,
                                             <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a> flags,
                                             <a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">GSpawnChildSetupFunc</a> child_setup,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_output,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_error,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *exit_status,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-Spawning-Processes.html#g-spawn-command-line-async">g_spawn_command_line_async</a>      (const <a href="glib-Basic-Types.html#gchar">gchar</a> *command_line,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-Spawning-Processes.html#g-spawn-command-line-sync">g_spawn_command_line_sync</a>       (const <a href="glib-Basic-Types.html#gchar">gchar</a> *command_line,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_output,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_error,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *exit_status,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
void        <a href="glib-Spawning-Processes.html#g-spawn-close-pid">g_spawn_close_pid</a>               (<a href="glib-The-Main-Event-Loop.html#GPid">GPid</a> pid);

</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2790423"></a><h2>Описание</h2>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2790437"></a><h2>Детали</h2>
<div class="refsect2" lang="en">
<a name="id2790448"></a><h3>
<a name="GSpawnError"></a>enum GSpawnError</h3>
<a class="indexterm" name="id2790460"></a><pre class="programlisting">typedef enum
{
  G_SPAWN_ERROR_FORK,   /* fork failed due to lack of memory */
  G_SPAWN_ERROR_READ,   /* read or select on pipes failed */
  G_SPAWN_ERROR_CHDIR,  /* changing to working dir failed */
  G_SPAWN_ERROR_ACCES,  /* execv() returned EACCES */
  G_SPAWN_ERROR_PERM,   /* execv() returned EPERM */
  G_SPAWN_ERROR_2BIG,   /* execv() returned E2BIG */
  G_SPAWN_ERROR_NOEXEC, /* execv() returned ENOEXEC */
  G_SPAWN_ERROR_NAMETOOLONG, /* ""  "" ENAMETOOLONG */
  G_SPAWN_ERROR_NOENT,       /* ""  "" ENOENT */
  G_SPAWN_ERROR_NOMEM,       /* ""  "" ENOMEM */
  G_SPAWN_ERROR_NOTDIR,      /* ""  "" ENOTDIR */
  G_SPAWN_ERROR_LOOP,        /* ""  "" ELOOP   */
  G_SPAWN_ERROR_TXTBUSY,     /* ""  "" ETXTBUSY */
  G_SPAWN_ERROR_IO,          /* ""  "" EIO */
  G_SPAWN_ERROR_NFILE,       /* ""  "" ENFILE */
  G_SPAWN_ERROR_MFILE,       /* ""  "" EMFLE */
  G_SPAWN_ERROR_INVAL,       /* ""  "" EINVAL */
  G_SPAWN_ERROR_ISDIR,       /* ""  "" EISDIR */
  G_SPAWN_ERROR_LIBBAD,      /* ""  "" ELIBBAD */
  G_SPAWN_ERROR_FAILED       /* other fatal failure, error-&gt;message
                              * should explain
                              */
} GSpawnError;
</pre>
<p>
Коды ошибок возвращаемые при выполнении процессов.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-FORK:CAPS"></a><code class="literal">G_SPAWN_ERROR_FORK</code></span></td>
<td>форк не удался из-за нехватки памяти.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-READ:CAPS"></a><code class="literal">G_SPAWN_ERROR_READ</code></span></td>
<td>чтение или выбор канала неудался.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-CHDIR:CAPS"></a><code class="literal">G_SPAWN_ERROR_CHDIR</code></span></td>
<td>изменение рабочего каталога неудалось.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-ACCES:CAPS"></a><code class="literal">G_SPAWN_ERROR_ACCES</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">EACCES</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-PERM:CAPS"></a><code class="literal">G_SPAWN_ERROR_PERM</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">EPERM</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-2BIG:CAPS"></a><code class="literal">G_SPAWN_ERROR_2BIG</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">E2BIG</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-NOEXEC:CAPS"></a><code class="literal">G_SPAWN_ERROR_NOEXEC</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">ENOEXEC</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-NAMETOOLONG:CAPS"></a><code class="literal">G_SPAWN_ERROR_NAMETOOLONG</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">ENAMETOOLONG</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-NOENT:CAPS"></a><code class="literal">G_SPAWN_ERROR_NOENT</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">ENOENT</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-NOMEM:CAPS"></a><code class="literal">G_SPAWN_ERROR_NOMEM</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">ENOMEM</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-NOTDIR:CAPS"></a><code class="literal">G_SPAWN_ERROR_NOTDIR</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">ENOTDIR</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-LOOP:CAPS"></a><code class="literal">G_SPAWN_ERROR_LOOP</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">ELOOP</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-TXTBUSY:CAPS"></a><code class="literal">G_SPAWN_ERROR_TXTBUSY</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">ETXTBUSY</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-IO:CAPS"></a><code class="literal">G_SPAWN_ERROR_IO</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">EIO</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-NFILE:CAPS"></a><code class="literal">G_SPAWN_ERROR_NFILE</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">ENFILE</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-MFILE:CAPS"></a><code class="literal">G_SPAWN_ERROR_MFILE</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">EMFILE</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-INVAL:CAPS"></a><code class="literal">G_SPAWN_ERROR_INVAL</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">EINVAL</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-ISDIR:CAPS"></a><code class="literal">G_SPAWN_ERROR_ISDIR</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">EISDIR</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-LIBBAD:CAPS"></a><code class="literal">G_SPAWN_ERROR_LIBBAD</code></span></td>
<td>
<code class="function"><code class="function">execv()</code></code> вернул <code class="literal">ELIBBAD</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-ERROR-FAILED:CAPS"></a><code class="literal">G_SPAWN_ERROR_FAILED</code></span></td>
<td>Некоторая другая проблема, <code class="literal">error-&gt;message</code> должно пояснить.

</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2791352"></a><h3>
<a name="G-SPAWN-ERROR:CAPS"></a>G_SPAWN_ERROR</h3>
<a class="indexterm" name="id2791363"></a><pre class="programlisting">#define G_SPAWN_ERROR g_spawn_error_quark ()
</pre>
<p>
Домен ошибки для порождения процессов. Ошибки в этом домене будут из перечисления 
<a href="glib-Spawning-Processes.html#GSpawnError"><span class="type">GSpawnError</span></a>. 
Смотрите <a href="glib-Error-Reporting.html#GError"><span class="type">GError</span></a> для информации о доменах ошибки.
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2791397"></a><h3>
<a name="GSpawnFlags"></a>enum GSpawnFlags</h3>
<a class="indexterm" name="id2791409"></a><pre class="programlisting">typedef enum
{
  G_SPAWN_LEAVE_DESCRIPTORS_OPEN = 1 &lt;&lt; 0,
  G_SPAWN_DO_NOT_REAP_CHILD      = 1 &lt;&lt; 1,
  /* look for argv[0] in the path i.e. use execvp() */
  G_SPAWN_SEARCH_PATH            = 1 &lt;&lt; 2,
  /* Dump output to /dev/null */
  G_SPAWN_STDOUT_TO_DEV_NULL     = 1 &lt;&lt; 3,
  G_SPAWN_STDERR_TO_DEV_NULL     = 1 &lt;&lt; 4,
  G_SPAWN_CHILD_INHERITS_STDIN   = 1 &lt;&lt; 5,
  G_SPAWN_FILE_AND_ARGV_ZERO     = 1 &lt;&lt; 6
} GSpawnFlags;
</pre>
<p>
Флаги помещаемые в <a href="glib-Spawning-Processes.html#g-spawn-sync"><code class="function">g_spawn_sync()</code></a>, <a href="glib-Spawning-Processes.html#g-spawn-async"><code class="function">g_spawn_async()</code></a> и <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes"><code class="function">g_spawn_async_with_pipes()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a name="G-SPAWN-LEAVE-DESCRIPTORS-OPEN:CAPS"></a><code class="literal">G_SPAWN_LEAVE_DESCRIPTORS_OPEN</code></span></td>
<td>дескриптор открытого родительского файла будет унаследован дочерним процессом; иначе все дескрипторы кроме stdin/stdout/stderr 
    будут закрыты перед вызовом <code class="function"><code class="function">exec()</code></code> в дочернем процессе.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-DO-NOT-REAP-CHILD:CAPS"></a><code class="literal">G_SPAWN_DO_NOT_REAP_CHILD</code></span></td>
<td>дочерний процесс не будет автоматически получен; вы должны вызвать 
    <code class="function"><code class="function">waitpid()</code></code> или обработать <code class="literal">SIGCHLD</code> 
    самостоятельно, или дочерний процесс станет зомби.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-SEARCH-PATH:CAPS"></a><code class="literal">G_SPAWN_SEARCH_PATH</code></span></td>
<td>
<code class="literal">argv[0]</code> не должен быть абсолютным путём, 
  он будет найден в пользовательском <code class="envar">PATH</code>.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-STDOUT-TO-DEV-NULL:CAPS"></a><code class="literal">G_SPAWN_STDOUT_TO_DEV_NULL</code></span></td>
<td>стандартный вывод из дочернего процесса будет отменён, 
    вместо направления в тоже расположение родительского стандартного вывода.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-STDERR-TO-DEV-NULL:CAPS"></a><code class="literal">G_SPAWN_STDERR_TO_DEV_NULL</code></span></td>
<td>стандартные ошибки дочернего процесса будут отменены.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-CHILD-INHERITS-STDIN:CAPS"></a><code class="literal">G_SPAWN_CHILD_INHERITS_STDIN</code></span></td>
<td>дочерний процесс унаследует стандартный ввод родителя 
    (по умолчанию, стандартный дочерний ввод прикреплён к <code class="filename">/dev/null</code>).
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SPAWN-FILE-AND-ARGV-ZERO:CAPS"></a><code class="literal">G_SPAWN_FILE_AND_ARGV_ZERO</code></span></td>
<td>первый элемент <code class="literal">argv</code> это выполняемый файл, остальные элементы являются фактически одномерным массивом 
    параметров для помещения в файл. 
    Обычно <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes"><code class="function">g_spawn_async_with_pipes()</code></a> 
    использует <code class="literal">argv[0]</code> как файл для выполнения и передаёт все <code class="literal">argv</code> 
    в дочерний процесс.

</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2791722"></a><h3>
<a name="GSpawnChildSetupFunc"></a>GSpawnChildSetupFunc ()</h3>
<a class="indexterm" name="id2791736"></a><pre class="programlisting">void        (*GSpawnChildSetupFunc)         (<a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data);</pre>
<p>
Определяет тип установочной функции помещаемой в 
<a href="glib-Spawning-Processes.html#g-spawn-async"><code class="function">g_spawn_async()</code></a>,
<a href="glib-Spawning-Processes.html#g-spawn-sync"><code class="function">g_spawn_sync()</code></a> и 
<a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes"><code class="function">g_spawn_async_with_pipes()</code></a>. 
На POSIX платформах она вызывается в дочернем процессе после того как GLib выполнит все запланированные установки, но перед вызовом 
<code class="function"><code class="function">exec()</code></code>. 
В POSIX, действия принятые в этой функции, затронут таким образом только дочерний процесс, а не родителя.
</p>
<p>
В Windows функция вызывается в родительском процессе. Её полноценность в
Windows таким образом сомнительна. В большинстве случаев выполнение функции установки
в родительском процессе может иметь плохой эффект, вы должны быть очень осторожны 
когда портируете программы в Windows использующие дочерние функции установки.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></td>
<td>пользовательские данные помещаемые в функцию.

</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2791841"></a><h3>
<a name="g-spawn-async-with-pipes"></a>g_spawn_async_with_pipes ()</h3>
<a class="indexterm" name="id2791854"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_spawn_async_with_pipes        (const <a href="glib-Basic-Types.html#gchar">gchar</a> *working_directory,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **argv,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **envp,
                                             <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a> flags,
                                             <a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">GSpawnChildSetupFunc</a> child_setup,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-The-Main-Event-Loop.html#GPid">GPid</a> *child_pid,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *standard_input,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *standard_output,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *standard_error,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Выполняет дочернюю программу асинхронно (ваша программа не будет блокирована для выхода из дочернего процесса). 
Дочерняя программа определяет только аргументы которые должны быть предоставлены массивом 
<em class="parameter"><code>argv</code></em>. <em class="parameter"><code>argv</code></em>
должен быть <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>-завершённым массивом строк, 
для помещения как одномерный массив в дочерний процесс. Первая строка в <em class="parameter"><code>argv</code></em> 
является названием программы для выполнения. По умолчанию имя программы должно быть полным путём; 
переменная <code class="envar">PATH</code> оболочки (shell) будет использоваться для поиска только если вы поместите флаг 
<a href="glib-Spawning-Processes.html#G-SPAWN-SEARCH-PATH:CAPS"><code class="literal">G_SPAWN_SEARCH_PATH</code></a>.
</p>
<p>
Помните что в Windows все строки или одномерные строковые массивы аргументов
для этой функции и других g_spawn*() функций находятся в кодировке UTF-8, кодировка
имён файлов GLib. Unicode символы которые не являются частью системной кодовой страницы
которые передают в одномерном массиве аргументов будут корректно доступны в порождённой 
программе только если она использует широкий символьный API для поиска в её командной строке. 
Для C программ собранных с помощью инструментария Microsoft's достаточно создать программу имея 
<code class="function">wmain()</code> вместо <code class="function">main()</code>. 
<code class="function">wmain()</code> имеет широкий символ одномерного массива как параметр.
</p>
<p>
По крайней мере в настоящее время mingw не поддерживает <code class="function">wmain()</code>, 
поэтому если вы используете mingw для разработки порождаемых программ, то должны вызвать
недокументированную функцию <code class="function">__wgetmainargs()</code> для получения 
широкого символа аргументов одномерного массива и окружения. Смотрите gspawn-win32-helper.c в
GLib исходниках или init.c в исходниках программы mingw для определения прототипа этой функции. 
Альтернативно вы можете найти широкий символ командной строки системного уровня Win32 
помещаемый в порождённую программу используя функцию <code class="function">GetCommandLineW()</code>.
</p>
<p>
В Windows нижний уровень API создания дочерних процессов <code class="function"><code class="function">CreateProcess()</code></code> 
не использует одномерный массив аргументов, но использует командную строку. Семейство функций библиотеки C 
<code class="function">spawn*()</code> (которые вызывают в конечном счёте 
<a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes"><code class="function">g_spawn_async_with_pipes()</code></a>) 
помещают элементы одномерного массива аргументов вместе в командную строку, а во время выполнения C код делает соответствующую реконструкцию
одномерного массива аргументов из командной строки для помещения в <code class="function">main()</code>. Осложнения возникают когда вы имеете
элементы одномерного массива аргументов которые содержат пробелы заключённые в двойные кавычки. 
Функции <code class="function">spawn*()</code> не делают никакого квотирования или выхода, но с другой стороны код запуска закрывает кавычки
и не выходит чтобы позволить получить аргументы с включёнными пробелами или двойными кавычками. Для работы вокруг этой ассиметрии,
<a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes"><code class="function">g_spawn_async_with_pipes()</code></a> выполнит 
квотирование и прервёт элементы одномерного массива аргументов которые нужны ей перед вызовом функции C runtime
<code class="function">spawn()</code>.
</p>
<p>
<em class="parameter"><code>envp</code></em> это 
<a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>-завершённый массив строк, где каждая строка
имеет форму <code class="literal">KEY=VALUE</code>. Это будет окружением дочернего процесса. Если 
<em class="parameter"><code>envp</code></em> это <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>, 
дочерний процесс наследует окружение его родителя.
</p>
<p>
<em class="parameter"><code>flags</code></em> должен быть поразрядным ИЛИ любых флагов которые должны влиять на поведение функции. 
<p>
<a href="glib-Spawning-Processes.html#G-SPAWN-DO-NOT-REAP-CHILD:CAPS"><code class="literal">G_SPAWN_DO_NOT_REAP_CHILD</code></a> означает что 
дочерний процесс не будет автоматически выполнен; вы должны использовать источник <span class="type">GChildWatch</span> для получения 
уведомления об уничтожении дочернего процесса. В конечном счёте вы должны вызвать 
<a href="glib-Spawning-Processes.html#g-spawn-close-pid"><code class="function">g_spawn_close_pid()</code></a> в
<em class="parameter"><code>child_pid</code></em>, для освобождения ресурсов связанных с дочерним процессом. 
(В Unix, используется источник <span class="type">GChildWatch</span> равноценный вызову <code class="function">waitpid()</code> 
или обрабатывается сигнал <code class="literal">SIGCHLD</code> вручную. В Windows, вызов 
<a href="glib-Spawning-Processes.html#g-spawn-close-pid"><code class="function">g_spawn_close_pid()</code></a> равноценно вызову
<code class="function">CloseHandle()</code> для обработки возвращаемого <em class="parameter"><code>child_pid</code></em>).
</p>
<p>
<a href="glib-Spawning-Processes.html#G-SPAWN-LEAVE-DESCRIPTORS-OPEN:CAPS"><code class="literal">G_SPAWN_LEAVE_DESCRIPTORS_OPEN</code></a>
означает что родительский дескриптор открытого файла будет унаследован дочерним процессом; иначе все дескрипторы кроме stdin/stdout/stder
    будут закрыты перед вызовом <code class="function">exec()</code> в дочернем процессе.
</p>
<p>
<a href="glib-Spawning-Processes.html#G-SPAWN-SEARCH-PATH:CAPS"><code class="literal">G_SPAWN_SEARCH_PATH</code></a> 
означает что <code class="literal">argv[0]</code> не должен быть абсолютным путём, он будет найден в пользовательской переменной 
<code class="envar">PATH</code>. 
</p>
<p>
<a href="glib-Spawning-Processes.html#G-SPAWN-STDOUT-TO-DEV-NULL:CAPS"><code class="literal">G_SPAWN_STDOUT_TO_DEV_NULL</code></a> 
означает что стандартный вывод дочернего процесса будет отменён, он будет направлен в тоже расположение что и стандартный вывод родительского 
процесса. Если вы используете этот флаг, <em class="parameter"><code>standard_output</code></em> должен быть <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.
</p>
<p>
<a href="glib-Spawning-Processes.html#G-SPAWN-STDERR-TO-DEV-NULL:CAPS"><code class="literal">G_SPAWN_STDERR_TO_DEV_NULL</code></a> 
означает что дочерний стандартный поток error будет отменён, вместо этого он будет направлен в тоже расположение что и стандартный поток 
error родительского процесса. Если вы используете этот флаг, <em class="parameter"><code>standard_error</code></em> должен быть 
<a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.
</p>
<p>
<a href="glib-Spawning-Processes.html#G-SPAWN-CHILD-INHERITS-STDIN:CAPS"><code class="literal">G_SPAWN_CHILD_INHERITS_STDIN</code></a> 
означает что дочерний процесс будет наследовать родительский стандартный поток ввода (input) 
(по умолчанию, стандартный поток ввода дочернего процесса прикреплён к /dev/null). 
Если вы используете этот флаг, <em class="parameter"><code>standard_input</code></em> должен быть 
<a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.
</p>
<p>
<a href="glib-Spawning-Processes.html#G-SPAWN-FILE-AND-ARGV-ZERO:CAPS"><code class="literal">G_SPAWN_FILE_AND_ARGV_ZERO</code></a> 
означает что первый элемент <em class="parameter"><code>argv</code></em> является исполняемым файлом, в то время как остальные элементы 
являются фактически одномерным массивом аргументов помещаемых в файл. 
Обычно <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes"><code class="function">g_spawn_async_with_pipes()</code></a> 
использует <em class="parameter"><code>argv</code></em>[0] как исполняемый файл, и помещает остальные 
<em class="parameter"><code>argv</code></em> в дочерний процесс.
</p>
<p>
<em class="parameter"><code>child_setup</code></em> и <em class="parameter"><code>user_data</code></em> 
являются функцией и пользовательскими данными. На POSIX платформах,
функция вызывается в дочернем процессе после выполнения GLib всех запланированных установок 
(включая создание каналов, закрытие дескрипторов файлов, etc.) но перед вызовом
<code class="function">exec()</code>. Таким образом, <em class="parameter"><code>child_setup</code></em> 
вызывается перед вызовом <code class="function">exec()</code> в дочернем процессе. Очевидно что действия принятые в этой функции затронут
только дочерний процесс, но не родителя. В Windows, нет разделения <code class="function">fork()</code> и <code class="function">exec()</code>
функциональности. Дочерний процесс создаётся и выполняется единственным API вызовом, <code class="function">CreateProcess()</code>. 
<em class="parameter"><code>child_setup</code></em> вызывается в родительском процессе как раз перед созданием дочернего процесса. 
Вы должны внимательно рассмотреть то что вы делаете в <em class="parameter"><code>child_setup</code></em>
если вы планируете переносить свою программу в Windows.
</p>
<p>
Если не-<a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>, <em class="parameter"><code>child_pid</code></em> будет заполнен в Unix с помощью ID дочернего процесса. Вы можете использовать ID процесса для отправки сигналов дочернему процессу, 
или для <code class="function">waitpid()</code> если вы определили флаг 
<a href="glib-Spawning-Processes.html#G-SPAWN-DO-NOT-REAP-CHILD:CAPS"><code class="literal">G_SPAWN_DO_NOT_REAP_CHILD</code></a>. 
В Windows, <em class="parameter"><code>child_pid</code></em> будет заполнен с помощью обработки дочернего процесса только если вы определили
флаг <a href="glib-Spawning-Processes.html#G-SPAWN-DO-NOT-REAP-CHILD:CAPS"><code class="literal">G_SPAWN_DO_NOT_REAP_CHILD</code></a>. 
Вы сможете тогда обратиться к дочернему процессу используя Win32 API, например ожидать его завершения с помощью функций 
<code class="function">WaitFor*()</code>, или например проверить его код завершения с помощью 
<code class="function">GetExitCodeProcess()</code>. Вы должны завершить обработку с помощью <code class="function">CloseHandle()</code> 
или <a href="glib-Spawning-Processes.html#g-spawn-close-pid"><code class="function">g_spawn_close_pid()</code></a> когда вы больше не нуждаетесь в ней.
</p>
<p>
Если не-<a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>, <em class="parameter"><code>standard_input</code></em>, <em class="parameter"><code>standard_output</code></em>, <em class="parameter"><code>standard_error</code></em>
расположения будут заполнены дескрипторами файлов для записи в стандартном потоке ввода дочерних процессов или для чтения в стандартном потоке вывода или для стандартного потока error.
Вызывающий <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes"><code class="function">g_spawn_async_with_pipes()</code></a> 
должен закрыть этот дескриптор файла когда он больше не нужен. Если эти параметры равны <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>, соответственно канал не будет создан.
</p>
<p>
Если <em class="parameter"><code>standard_input</code></em> равен NULL, стандартный ввод дочернего процесса прикреплён к /dev/null
пока не установлен <a href="glib-Spawning-Processes.html#G-SPAWN-CHILD-INHERITS-STDIN:CAPS"><code class="literal">G_SPAWN_CHILD_INHERITS_STDIN</code></a>.
</p>
<p>
Если <em class="parameter"><code>standard_error</code></em> равен NULL, стандартный поток error дочернего процесса направлен в тоже расположение что и стандартный поток error родительского процесса пока не установлен <a href="glib-Spawning-Processes.html#G-SPAWN-STDERR-TO-DEV-NULL:CAPS"><code class="literal">G_SPAWN_STDERR_TO_DEV_NULL</code></a>.
</p>
<p>
Если <em class="parameter"><code>standard_output</code></em> равен NULL, стандартный вывод дочернего процесса направлен в то же расположение что и стандартный вывод родительского процесса пока не установлен <a href="glib-Spawning-Processes.html#G-SPAWN-STDOUT-TO-DEV-NULL:CAPS"><code class="literal">G_SPAWN_STDOUT_TO_DEV_NULL</code></a>.
</p>
<p>
<em class="parameter"><code>error</code></em> может быть <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> 
для игнорирования ошибок, или не-<a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> для сообщения об ошибках.
Если error установлен, функция возвращает <a href="glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a>. Об ошибках сообщается даже если они происходят в дочернем процессе 
(например если исполняемый файл в <code class="literal">argv[0]</code> небыл найден). Обычно поле <code class="literal">message</code> 
возвращаемой ошибки должно отображаться пользователям. Возможные ошибки указаны в домене <a href="glib-Spawning-Processes.html#G-SPAWN-ERROR:CAPS"><span class="type">G_SPAWN_ERROR</span></a>.
</p>
<p>
Если произошла ошибка, <em class="parameter"><code>child_pid</code></em>, <em class="parameter"><code>standard_input</code></em>, <em class="parameter"><code>standard_output</code></em>,
и <em class="parameter"><code>standard_error</code></em> не будут заполнены допустимыми значениями.
</p>
<p>
Если <em class="parameter"><code>child_pid</code></em> не-<a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> 
и не происходит ошибки то возвращаемый pid должен быть закрыт с помощью <a href="glib-Spawning-Processes.html#g-spawn-close-pid"><code class="function">g_spawn_close_pid()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>working_directory</code></em>&#160;:</span></td>
<td> текущий рабочий каталог дочернего процесса, или <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> 
     для наследования родительского, в кодировке имён файлов GLib
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>argv</code></em>&#160;:</span></td>
<td> одномерный массив аргументов дочернего процесса, в кодировке имён файлов GLib
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>envp</code></em>&#160;:</span></td>
<td> окружение дочернего процесса, или <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> 
     для наследования родительского, в кодировке имён файлов GLib
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>flags</code></em>&#160;:</span></td>
<td> флаги из <a href="glib-Spawning-Processes.html#GSpawnFlags"><span class="type">GSpawnFlags</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>child_setup</code></em>&#160;:</span></td>
<td> функция запускаемая в дочернем процессе перед <code class="function">exec()</code>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></td>
<td> пользовательские данные для <em class="parameter"><code>child_setup</code></em>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>child_pid</code></em>&#160;:</span></td>
<td> расположение для возвращаемого ID дочернего процесса, или 
     <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>standard_input</code></em>&#160;:</span></td>
<td> расположение возвращаемого дескриптора файла для записи стандартным потоком stdin дочернего процесса, 
     или <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>standard_output</code></em>&#160;:</span></td>
<td> расположение возвращаемого дескриптора файла для чтения стандартным потоком stdout дочернего процесса, 
     или <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>standard_error</code></em>&#160;:</span></td>
<td> расположение возвращаемого дескриптора файла для чтения стандартным потоком stderr дочернего процесса, 
     или <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение для возвращаемой ошибки
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> <a href="glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> при успешном выполнении, 
     <a href="glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> если была установлена ошибка
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2793259"></a><h3>
<a name="g-spawn-async"></a>g_spawn_async ()</h3>
<a class="indexterm" name="id2793272"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_spawn_async                   (const <a href="glib-Basic-Types.html#gchar">gchar</a> *working_directory,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **argv,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **envp,
                                             <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a> flags,
                                             <a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">GSpawnChildSetupFunc</a> child_setup,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-The-Main-Event-Loop.html#GPid">GPid</a> *child_pid,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Смотрите <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes"><code class="function">g_spawn_async_with_pipes()</code></a> 
для полного описания; эта функция просто вызывает <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes"><code class="function">g_spawn_async_with_pipes()</code></a> без всяких каналов.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>working_directory</code></em>&#160;:</span></td>
<td> текущий рабочий каталог дочернего процесса, или <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> 
     для наследования родительского
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>argv</code></em>&#160;:</span></td>
<td> одномерный массив аргументов дочернего процесса
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>envp</code></em>&#160;:</span></td>
<td> окружение дочернего процесса, или <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> 
     для наследования родительского
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>flags</code></em>&#160;:</span></td>
<td> флаги из <a href="glib-Spawning-Processes.html#GSpawnFlags"><span class="type">GSpawnFlags</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>child_setup</code></em>&#160;:</span></td>
<td> функция для запуска в дочернем процессе перед <code class="function">exec()</code>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></td>
<td> пользовательские данные для <em class="parameter"><code>child_setup</code></em>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>child_pid</code></em>&#160;:</span></td>
<td> расположение для возвращаемого ID дочернего процесса, или <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение для возвращаемой ошибки
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> <a href="glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> при успешном выполнении, 
     <a href="glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> если установлена ошибка
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2793584"></a><h3>
<a name="g-spawn-sync"></a>g_spawn_sync ()</h3>
<a class="indexterm" name="id2793597"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_spawn_sync                    (const <a href="glib-Basic-Types.html#gchar">gchar</a> *working_directory,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **argv,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **envp,
                                             <a href="glib-Spawning-Processes.html#GSpawnFlags">GSpawnFlags</a> flags,
                                             <a href="glib-Spawning-Processes.html#GSpawnChildSetupFunc">GSpawnChildSetupFunc</a> child_setup,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_output,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_error,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *exit_status,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Выполняет дочерний процесс синхронно (ждёт выхода из дочернего процесса перед возвращением).
Весь вывод из дочернего процесса сохраняется в <em class="parameter"><code>standard_output</code></em> и <em class="parameter"><code>standard_error</code></em>,
если эти параметры не-<a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>. Если <em class="parameter"><code>exit_status</code></em> не-<a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>, статус выхода из дочернего процесса сохраняется как если бы было возвращено <code class="function">waitpid()</code>; стандартные UNIX макросы такие как <code class="function">WIFEXITED()</code> и <code class="function">WEXITSTATUS()</code> 
должны использоваться для оценки состояния выхода. Если произошла ошибка, нет данных возвращённых в <em class="parameter"><code>standard_output</code></em>, <em class="parameter"><code>standard_error</code></em>, или <em class="parameter"><code>exit_status</code></em>.
</p>
<p>
Эта функция вызывает <a href="glib-Spawning-Processes.html#g-spawn-async-with-pipes"><code class="function">g_spawn_async_with_pipes()</code></a> внутренне; смотрите полные детали в других параметрах и детали как эти функции работают в Windows.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>working_directory</code></em>&#160;:</span></td>
<td> текущий рабочий каталог дочернего процесса, или <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> 
     для наследования родительского
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>argv</code></em>&#160;:</span></td>
<td> одномерный массив аргументов дочернего процесса
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>envp</code></em>&#160;:</span></td>
<td> окружение дочернего процесса, или <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> 
     для наследования родительского
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>flags</code></em>&#160;:</span></td>
<td> флаги из <a href="glib-Spawning-Processes.html#GSpawnFlags"><span class="type">GSpawnFlags</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>child_setup</code></em>&#160;:</span></td>
<td> функция для запуска в дочернем процессе перед <code class="function">exec()</code>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></td>
<td> пользовательские данные для <em class="parameter"><code>child_setup</code></em>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>standard_output</code></em>&#160;:</span></td>
<td> расположение возвращаемого дочернего потока output 
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>standard_error</code></em>&#160;:</span></td>
<td> расположение возвращаемых дочерних сообщений об ошибках
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>exit_status</code></em>&#160;:</span></td>
<td> расположение для возвращаемого статуса выхода дочернего процесса, который возвращается из <code class="function">waitpid()</code>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение для возвращаемой ошибки
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> <a href="glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> при успешном выполнении, 
     <a href="glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> если была установлена ошибка.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2794043"></a><h3>
<a name="g-spawn-command-line-async"></a>g_spawn_command_line_async ()</h3>
<a class="indexterm" name="id2794056"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_spawn_command_line_async      (const <a href="glib-Basic-Types.html#gchar">gchar</a> *command_line,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Простая версия <a href="glib-Spawning-Processes.html#g-spawn-async"><code class="function">g_spawn_async()</code></a> 
которая анализирует командную строку с помощью
<a href="glib-Shell-related-Utilities.html#g-shell-parse-argv"><code class="function">g_shell_parse_argv()</code></a> 
и направляет в <a href="glib-Spawning-Processes.html#g-spawn-async"><code class="function">g_spawn_async()</code></a>. 
Выполняет командную строку в фоновом режиме. В отличие от 
<a href="glib-Spawning-Processes.html#g-spawn-async"><code class="function">g_spawn_async()</code></a>, флаг
<a href="glib-Spawning-Processes.html#G-SPAWN-SEARCH-PATH:CAPS"><code class="literal">G_SPAWN_SEARCH_PATH</code></a> включен, 
другие флаги нет. 
Помните что <a href="glib-Spawning-Processes.html#G-SPAWN-SEARCH-PATH:CAPS"><code class="literal">G_SPAWN_SEARCH_PATH</code></a> 
может иметь безопасные включения, поэтому рассмотрите непосредственное использование 
<a href="glib-Spawning-Processes.html#g-spawn-async"><code class="function">g_spawn_async()</code></a> если возможно. 
Возможные ошибки указаны в <a href="glib-Shell-related-Utilities.html#g-shell-parse-argv"><code class="function">g_shell_parse_argv()</code></a> и <a href="glib-Spawning-Processes.html#g-spawn-async"><code class="function">g_spawn_async()</code></a>.
</p>
<p>
Встречаются те же проблемы в Windows применении, что и для <a href="glib-Spawning-Processes.html#g-spawn-command-line-sync"><code class="function">g_spawn_command_line_sync()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>command_line</code></em>&#160;:</span></td>
<td> командная строка
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение для возвращаемых ошибок
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> <a href="glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> при успешном выполнении, 
     <a href="glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> если установлена ошибка.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2794275"></a><h3>
<a name="g-spawn-command-line-sync"></a>g_spawn_command_line_sync ()</h3>
<a class="indexterm" name="id2794289"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_spawn_command_line_sync       (const <a href="glib-Basic-Types.html#gchar">gchar</a> *command_line,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_output,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **standard_error,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *exit_status,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Простая версия <a href="glib-Spawning-Processes.html#g-spawn-sync"><code class="function">g_spawn_sync()</code></a> с удалёнными мало-используемыми параметрами, принимает командную строку вместо одномерного массива аргументов. 
Смотрите <a href="glib-Spawning-Processes.html#g-spawn-sync"><code class="function">g_spawn_sync()</code></a> для изучения всех деталей. 
<em class="parameter"><code>command_line</code></em> будет анализироваться с помощью 
<a href="glib-Shell-related-Utilities.html#g-shell-parse-argv"><code class="function">g_shell_parse_argv()</code></a>. 
В отличие от <a href="glib-Spawning-Processes.html#g-spawn-sync"><code class="function">g_spawn_sync()</code></a>, флаг 
<a href="glib-Spawning-Processes.html#G-SPAWN-SEARCH-PATH:CAPS"><code class="literal">G_SPAWN_SEARCH_PATH</code></a>
включен. Помните что <a href="glib-Spawning-Processes.html#G-SPAWN-SEARCH-PATH:CAPS"><code class="literal">G_SPAWN_SEARCH_PATH</code></a> может иметь безопасные включения, поэтому рассмотрите непосредственное использование 
<a href="glib-Spawning-Processes.html#g-spawn-sync"><code class="function">g_spawn_sync()</code></a> если возможно. 
Возможные ошибки происходят из <a href="glib-Spawning-Processes.html#g-spawn-sync"><code class="function">g_spawn_sync()</code></a> и
from <a href="glib-Shell-related-Utilities.html#g-shell-parse-argv"><code class="function">g_shell_parse_argv()</code></a>.
</p>
<p>
Если <em class="parameter"><code>exit_status</code></em> не-<a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>, статус выхода дочернего процесса сохраняется как возвращаемый <code class="function">waitpid()</code>; 
стандартные UNIX макросы <code class="function">WIFEXITED()</code>
и <code class="function">WEXITSTATUS()</code> должны использоваться для оценки статуса выхода.
</p>
<p>
В Windows, пожалуйста помните включение <a href="glib-Shell-related-Utilities.html#g-shell-parse-argv"><code class="function">g_shell_parse_argv()</code></a>
анализирующую <em class="parameter"><code>command_line</code></em>. Анализ выполняется согласно правилам оболочки Unix, 
а не правил командного интерпретатора Windows.
Пробел является разделителем, и backslashes является специальным. Поэтому вы не можете прост поместить 
<em class="parameter"><code>command_line</code></em> содержащую канонический Windows путь, как "c:\\program files\\app\\app.exe", 
поскольку backslashes будут подавлены, и пробелы будут действовать как разделители. Вам нужно заключать такие пути в одиночные кавычки, 
например "'c:\\program files\\app\\app.exe' 'e:\\folder\\argument.txt'".</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>command_line</code></em>&#160;:</span></td>
<td> командная строка 
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>standard_output</code></em>&#160;:</span></td>
<td> расположение возвращаемого дочернего потока output
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>standard_error</code></em>&#160;:</span></td>
<td> расположение возвращаемых дочерних ошибок
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>exit_status</code></em>&#160;:</span></td>
<td> расположение для возвращаемого статуса выхода дочернего процесса, который возвращает <code class="function">waitpid()</code>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение для возвращаемых ошибок
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> <a href="glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> при успешном выполнении, 
     <a href="glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> если установлена ошибка
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2794662"></a><h3>
<a name="g-spawn-close-pid"></a>g_spawn_close_pid ()</h3>
<a class="indexterm" name="id2794676"></a><pre class="programlisting">void        g_spawn_close_pid               (<a href="glib-The-Main-Event-Loop.html#GPid">GPid</a> pid);</pre>
<p>
На некоторых платформах, особенно WIN32, тип <a href="glib-The-Main-Event-Loop.html#GPid"><span class="type">GPid</span></a> 
представляет ресурс который должен быть закрыт для предотвращения утечки ресурсов. 
<a href="glib-Spawning-Processes.html#g-spawn-close-pid"><code class="function">g_spawn_close_pid()</code></a>
предназначена для этих целей. Она должна использоваться на всех платформах, даже при том что она ничего не делает в UNIX.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>pid</code></em>&#160;:</span></td>
<td> идентификатор процесса для закрытия
</td>
</tr></tbody>
</table></div>
</div>
</div>
</div>
</body>
</html>
