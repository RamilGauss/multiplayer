<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>IO Channels</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
<link rel="start" href="index.html" title="GLib Reference Manual">
<link rel="up" href="glib-core.html" title="GLib Core Application Support">
<link rel="prev" href="glib-Memory-Allocation.html" title="Memory Allocation">
<link rel="next" href="glib-Error-Reporting.html" title="Error Reporting">
<meta name="generator" content="GTK-Doc V1.7 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="glib.html" title="GLib Overview">
<link rel="chapter" href="glib-fundamentals.html" title="GLib Fundamentals">
<link rel="chapter" href="glib-core.html" title="GLib Core Application Support">
<link rel="chapter" href="glib-utilities.html" title="GLib Utilities">
<link rel="chapter" href="glib-data-types.html" title="GLib Data Types">
<link rel="chapter" href="tools.html" title="GLib Tools">
<link rel="index" href="ix01.html" title="Index">
<link rel="index" href="ix02.html" title="Index of deprecated symbols">
<link rel="index" href="ix03.html" title="Index of new symbols in 2.2">
<link rel="index" href="ix04.html" title="Index of new symbols in 2.4">
<link rel="index" href="ix05.html" title="Index of new symbols in 2.6">
<link rel="index" href="ix06.html" title="Index of new symbols in 2.8">
<link rel="index" href="ix07.html" title="Index of new symbols in 2.10">
<link rel="index" href="ix08.html" title="Index of new symbols in 2.12">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="glib-Memory-Allocation.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="glib-core.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Справочное описание GLib</th>
<td><a accesskey="n" href="glib-Error-Reporting.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2629639" class="shortcut">Начало</a>
                  &#160;|&#160;
                  <a href="#id2631122" class="shortcut">Описание</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="glib-IO-Channels"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2629639"></a><span class="refentrytitle">IO Channels</span>
</h2>
<p>IO Channels &#8212; Переносимая поддержка использования файлов, каналов и сокетов.</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Краткое описание</h2>
<pre class="synopsis">

#include &lt;glib.h&gt;


            <a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>;

<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* <a href="glib-IO-Channels.html#g-io-channel-unix-new">g_io_channel_unix_new</a>           (int fd);
<a href="glib-Basic-Types.html#gint">gint</a>        <a href="glib-IO-Channels.html#g-io-channel-unix-get-fd">g_io_channel_unix_get_fd</a>        (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* <a href="glib-IO-Channels.html#g-io-channel-win32-new-fd">g_io_channel_win32_new_fd</a>       (<a href="glib-Basic-Types.html#gint">gint</a> fd);
<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* <a href="glib-IO-Channels.html#g-io-channel-win32-new-socket">g_io_channel_win32_new_socket</a>   (<a href="glib-Basic-Types.html#gint">gint</a> socket);
<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* <a href="glib-IO-Channels.html#g-io-channel-win32-new-messages">g_io_channel_win32_new_messages</a> (<a href="glib-Basic-Types.html#guint">guint</a> hwnd);

void        <a href="glib-IO-Channels.html#g-io-channel-init">g_io_channel_init</a>               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);

<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* <a href="glib-IO-Channels.html#g-io-channel-new-file">g_io_channel_new_file</a>           (const <a href="glib-Basic-Types.html#gchar">gchar</a> *filename,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *mode,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-read-chars">g_io_channel_read_chars</a>         (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-read-unichar">g_io_channel_read_unichar</a>       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Unicode-Manipulation.html#gunichar">gunichar</a> *thechar,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-read-line">g_io_channel_read_line</a>          (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **str_return,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *length,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *terminator_pos,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-read-line-string">g_io_channel_read_line_string</a>   (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Strings.html#GString">GString</a> *buffer,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *terminator_pos,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-read-to-end">g_io_channel_read_to_end</a>        (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **str_return,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *length,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-write-chars">g_io_channel_write_chars</a>        (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-write-unichar">g_io_channel_write_unichar</a>      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Unicode-Manipulation.html#gunichar">gunichar</a> thechar,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-flush">g_io_channel_flush</a>              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-seek-position">g_io_channel_seek_position</a>      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint64">gint64</a> offset,
                                             <a href="glib-IO-Channels.html#GSeekType">GSeekType</a> type,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
enum        <a href="glib-IO-Channels.html#GSeekType">GSeekType</a>;
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-shutdown">g_io_channel_shutdown</a>           (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> flush,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **err);

enum        <a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>;
enum        <a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a>;
#define     <a href="glib-IO-Channels.html#G-IO-CHANNEL-ERROR:CAPS">G_IO_CHANNEL_ERROR</a>
<a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a> <a href="glib-IO-Channels.html#g-io-channel-error-from-errno">g_io_channel_error_from_errno</a>
                                            (<a href="glib-Basic-Types.html#gint">gint</a> en);

<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* <a href="glib-IO-Channels.html#g-io-channel-ref">g_io_channel_ref</a>                (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
void        <a href="glib-IO-Channels.html#g-io-channel-unref">g_io_channel_unref</a>              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);

<a href="glib-The-Main-Event-Loop.html#GSource">GSource</a>*    <a href="glib-IO-Channels.html#g-io-create-watch">g_io_create_watch</a>               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition);
<a href="glib-Basic-Types.html#guint">guint</a>       <a href="glib-IO-Channels.html#g-io-add-watch">g_io_add_watch</a>                  (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition,
                                             <a href="glib-IO-Channels.html#GIOFunc">GIOFunc</a> func,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data);
<a href="glib-Basic-Types.html#guint">guint</a>       <a href="glib-IO-Channels.html#g-io-add-watch-full">g_io_add_watch_full</a>             (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint">gint</a> priority,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition,
                                             <a href="glib-IO-Channels.html#GIOFunc">GIOFunc</a> func,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-Datasets.html#GDestroyNotify">GDestroyNotify</a> notify);
enum        <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a>;
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    (<a href="glib-IO-Channels.html#GIOFunc">*GIOFunc</a>)                      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *source,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> data);

            <a href="glib-IO-Channels.html#GIOFuncs">GIOFuncs</a>;

<a href="glib-Basic-Types.html#gsize">gsize</a>       <a href="glib-IO-Channels.html#g-io-channel-get-buffer-size">g_io_channel_get_buffer_size</a>    (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
void        <a href="glib-IO-Channels.html#g-io-channel-set-buffer-size">g_io_channel_set_buffer_size</a>    (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> size);
<a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> <a href="glib-IO-Channels.html#g-io-channel-get-buffer-condition">g_io_channel_get_buffer_condition</a>
                                            (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
<a href="glib-IO-Channels.html#GIOFlags">GIOFlags</a>    <a href="glib-IO-Channels.html#g-io-channel-get-flags">g_io_channel_get_flags</a>          (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-set-flags">g_io_channel_set_flags</a>          (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-IO-Channels.html#GIOFlags">GIOFlags</a> flags,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
enum        <a href="glib-IO-Channels.html#GIOFlags">GIOFlags</a>;
const <a href="glib-Basic-Types.html#gchar">gchar</a>* <a href="glib-IO-Channels.html#g-io-channel-get-line-term">g_io_channel_get_line_term</a>     (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *length);
void        <a href="glib-IO-Channels.html#g-io-channel-set-line-term">g_io_channel_set_line_term</a>      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *line_term,
                                             <a href="glib-Basic-Types.html#gint">gint</a> length);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-IO-Channels.html#g-io-channel-get-buffered">g_io_channel_get_buffered</a>       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
void        <a href="glib-IO-Channels.html#g-io-channel-set-buffered">g_io_channel_set_buffered</a>       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> buffered);
const <a href="glib-Basic-Types.html#gchar">gchar</a>* <a href="glib-IO-Channels.html#g-io-channel-get-encoding">g_io_channel_get_encoding</a>      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
<a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   <a href="glib-IO-Channels.html#g-io-channel-set-encoding">g_io_channel_set_encoding</a>       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *encoding,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);
<a href="glib-Basic-Types.html#gboolean">gboolean</a>    <a href="glib-IO-Channels.html#g-io-channel-get-close-on-unref">g_io_channel_get_close_on_unref</a> (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);
void        <a href="glib-IO-Channels.html#g-io-channel-set-close-on-unref">g_io_channel_set_close_on_unref</a> (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> do_close);


<a href="glib-IO-Channels.html#GIOError">GIOError</a>    <a href="glib-IO-Channels.html#g-io-channel-read">g_io_channel_read</a>               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read);
enum        <a href="glib-IO-Channels.html#GIOError">GIOError</a>;
<a href="glib-IO-Channels.html#GIOError">GIOError</a>    <a href="glib-IO-Channels.html#g-io-channel-write">g_io_channel_write</a>              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written);
<a href="glib-IO-Channels.html#GIOError">GIOError</a>    <a href="glib-IO-Channels.html#g-io-channel-seek">g_io_channel_seek</a>               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint64">gint64</a> offset,
                                             <a href="glib-IO-Channels.html#GSeekType">GSeekType</a> type);
void        <a href="glib-IO-Channels.html#g-io-channel-close">g_io_channel_close</a>              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);

</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2631122"></a><h2>Описание</h2>
<p>
Тип данных <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> 
предназначен для обеспечения переносимого метода использования файловых дескрипторов, каналов 
и сокетов, интегрируя их в 
<a href="glib-The-Main-Event-Loop.html" title="The Main Event Loop">main event loop</a>.
В настоящий момент доступна полная поддержка на UNIX платформах, поддержка для Windows выполнена 
только частично.
</p>
<p>
Для создания новой <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> в UNIX системах используйте <a href="glib-IO-Channels.html#g-io-channel-unix-new"><code class="function">g_io_channel_unix_new()</code></a>.
Это работает для простых дескрипторов файла, каналов и сокетов.
Альтернативно, канал может быть создан для файла независимым от системы способом используя 
<a href="glib-IO-Channels.html#g-io-channel-new-file"><code class="function">g_io_channel_new_file()</code></a>.
</p>
<p>
Как только <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> 
создана, она может использоваться обычным способом в функциях 
<a href="glib-IO-Channels.html#g-io-channel-read-chars"><code class="function">g_io_channel_read_chars()</code></a>, <a href="glib-IO-Channels.html#g-io-channel-write-chars"><code class="function">g_io_channel_write_chars()</code></a>,
<a href="glib-IO-Channels.html#g-io-channel-seek-position"><code class="function">g_io_channel_seek_position()</code></a> и <a href="glib-IO-Channels.html#g-io-channel-shutdown"><code class="function">g_io_channel_shutdown()</code></a>.
</p>
<p>
Для добавления <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> в
<a href="glib-The-Main-Event-Loop.html" title="The Main Event Loop">основной цикл событий</a>
используйте <a href="glib-IO-Channels.html#g-io-add-watch"><code class="function">g_io_add_watch()</code></a> или <a href="glib-IO-Channels.html#g-io-add-watch-full"><code class="function">g_io_add_watch_full()</code></a>. Так определяется какие события вас интересуют в 
<a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> и обеспечивается функция которая будет вызываться каждый раз когда происходит это событие.
</p>
<p>
<a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> создаётся с начальным количеством ссылок равным 1.
Функции <a href="glib-IO-Channels.html#g-io-channel-ref"><code class="function">g_io_channel_ref()</code></a> и <a href="glib-IO-Channels.html#g-io-channel-unref"><code class="function">g_io_channel_unref()</code></a> могут использоваться для увеличения и уменьшения количества ссылок соответственно.
 Когда количество ссылок достигло 0, <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> освобождается (хотя она не закрывается автоматически,
если не создана с использованием <code class="function">g_io_channel_new_from_file()</code>).
Использование <a href="glib-IO-Channels.html#g-io-add-watch"><code class="function">g_io_add_watch()</code></a> или <a href="glib-IO-Channels.html#g-io-add-watch-full"><code class="function">g_io_add_watch_full()</code></a> увеличивает количество ссылок каналов.
</p>
<p>
Новые функции <a href="glib-IO-Channels.html#g-io-channel-read-chars"><code class="function">g_io_channel_read_chars()</code></a>, <a href="glib-IO-Channels.html#g-io-channel-read-line"><code class="function">g_io_channel_read_line()</code></a>,
<a href="glib-IO-Channels.html#g-io-channel-read-line-string"><code class="function">g_io_channel_read_line_string()</code></a>, <a href="glib-IO-Channels.html#g-io-channel-read-to-end"><code class="function">g_io_channel_read_to_end()</code></a>,
<a href="glib-IO-Channels.html#g-io-channel-write-chars"><code class="function">g_io_channel_write_chars()</code></a>, <a href="glib-IO-Channels.html#g-io-channel-seek-position"><code class="function">g_io_channel_seek_position()</code></a>,
и <a href="glib-IO-Channels.html#g-io-channel-flush"><code class="function">g_io_channel_flush()</code></a> не должны использоваться совместно с устаревшими функциями 
<a href="glib-IO-Channels.html#g-io-channel-read"><code class="function">g_io_channel_read()</code></a>, <a href="glib-IO-Channels.html#g-io-channel-write"><code class="function">g_io_channel_write()</code></a>,
и <a href="glib-IO-Channels.html#g-io-channel-seek"><code class="function">g_io_channel_seek()</code></a> в одном и том же канале.
</p>
</div>
<div class="refsect1" lang="en">
<a name="id2631491"></a><h2>Детали</h2>
<div class="refsect2" lang="en">
<a name="id2631501"></a><h3>
<a name="GIOChannel"></a>GIOChannel</h3>
<a class="indexterm" name="id2631514"></a><pre class="programlisting">typedef struct {
} GIOChannel;
</pre>
<p>
Структура данных представляющая IO Channel (канал ввода-вывода). Поля этой структуры должны рассматриваться как закрытые и могут использоваться только следующими функциями.
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2631532"></a><h3>
<a name="g-io-channel-unix-new"></a>g_io_channel_unix_new ()</h3>
<a class="indexterm" name="id2631545"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* g_io_channel_unix_new           (int fd);</pre>
<p>
Создаёт новую <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> 
полученного дескриптора файла.
В UNIX системах это работает для простых файлов, каналов и сокетов.
</p>
<p>
Возвращаемая <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> имеет количество ссылок равное 1.
</p>
<p>
Кодировкой по умолчанию для <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> является UTF-8. Если ваша программа читает вывод из команд используя via pipe, 
вам может понадобиться установить кодировку в текущую кодировку локали (смотрите
<a href="glib-Character-Set-Conversion.html#g-get-charset"><code class="function">g_get_charset()</code></a>) с помощью функции <a href="glib-IO-Channels.html#g-io-channel-set-encoding"><code class="function">g_io_channel_set_encoding()</code></a>.
</p>
<p>
Если вы хотите читать исходные двоичные данные без интерпретации, то вызовите 
<a href="glib-IO-Channels.html#g-io-channel-set-encoding"><code class="function">g_io_channel_set_encoding()</code></a> функцию с параметром кодировки равным <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.
</p>
<p>
Эта функция GLib доступна также в Windows, но вы должны избегать использования её в Windows. 
Область дескрипторов файла и сокетов перекрывается. Здесь нет способа для GLib узнать что вы 
подразумеваете в случае помещения в качестве аргументов в эту функцию и правильного дескриптора 
файла и сокета. Если это происходит то выдаётся предупреждение, а GLib предполагает что это 
дескриптор файла который вы подразумевали.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>fd</code></em>&#160;:</span></td>
<td>дескриптор файла.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td>новая <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2631704"></a><h3>
<a name="g-io-channel-unix-get-fd"></a>g_io_channel_unix_get_fd ()</h3>
<a class="indexterm" name="id2631717"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gint">gint</a>        g_io_channel_unix_get_fd        (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre>
<p>
Возвращает дескриптор файла <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</p>
<p>
В Windows эта функция вернёт дескриптор файла или сокет <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>, созданная с помощью <a href="glib-IO-Channels.html#g-io-channel-unix-new"><code class="function">g_io_channel_unix_new()</code></a>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td>дескриптор файла <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2631822"></a><h3>
<a name="g-io-channel-win32-new-fd"></a>g_io_channel_win32_new_fd ()</h3>
<a class="indexterm" name="id2631836"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* g_io_channel_win32_new_fd       (<a href="glib-Basic-Types.html#gint">gint</a> fd);</pre>
<p>
Создаёт новую <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> получая дескриптор файла в Windows. Работает для дескрипторов файлов из C runtime.
</p>
<p>
Эта функция работает для дескрипторов файлов которые возвращают <code class="function">open()</code>,
<code class="function">creat()</code>, <a href="glib-Windows-Compatibility-Functions.html#pipe"><code class="function">pipe()</code></a> и <code class="function">fileno()</code> вызовы в Microsoft C runtime. Для обоснованного использования этой функции ваш код должен
использовать туже C runtime которую использует GLib, которой является 
msvcrt.dll. Помните что текущий компилятор Microsoft не подходит для 
сборки кода который использует msvcrt.dll. Последняя версия компилятора 
Microsoft которая поддерживала использование msvcrt.dll как C runtime 
была версия 6. Компилятор GNU и инструменты для Windows, также известные 
как Mingw, полностью поддерживают msvcrt.dll.
</p>
<p>
Если вы создали <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> 
для дескриптора файла и запустили её просмотр (опрос), вы не должны вызывать <code class="function">read()</code> для дескриптора файла. Это потому, что добавление опроса для дескриптора файла 
реализовано в GLib на платформе Windows с помощью запуска потока который остаётся блокированным в <code class="function">read()</code> из дескриптора файла больше времени. Все читатели дескриптора файла 
должны быть выполнены этим внутренним потоком GLib. Ваш код должен вызывать только 
<a href="glib-IO-Channels.html#g-io-channel-read"><code class="function">g_io_channel_read()</code></a>.
</p>
<p>
Эта функция доступна только в GLib для Windows.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>fd</code></em>&#160;:</span></td>
<td>дескриптор файла библиотеки C.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td>новая <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2632022"></a><h3>
<a name="g-io-channel-win32-new-socket"></a>g_io_channel_win32_new_socket ()</h3>
<a class="indexterm" name="id2632036"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* g_io_channel_win32_new_socket   (<a href="glib-Basic-Types.html#gint">gint</a> socket);</pre>
<p>
Создаёт новую <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> получая сокет в Windows.
</p>
<p>
Эта функция работает для сокетов созданных при помощи Winsock. Она доступна только в GLib для Windows.
</p>
<p>
Опрос <a href="glib-The-Main-Event-Loop.html#GSource"><span class="type">GSource</span></a> создаёт 
канал просмотра для сокета помещая сокет в не блокированный режим. Это неизбежный побочный эффект реализации.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>socket</code></em>&#160;:</span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td>новая <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2632127"></a><h3>
<a name="g-io-channel-win32-new-messages"></a>g_io_channel_win32_new_messages ()</h3>
<a class="indexterm" name="id2632141"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* g_io_channel_win32_new_messages (<a href="glib-Basic-Types.html#guint">guint</a> hwnd);</pre>
<p>
Создаёт новую <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> 
получая обработку окна в Windows.
</p>
<p>
Эта функция создаёт <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> которая может использоваться для опроса сообщений Windows запрашиваемого окна.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>hwnd</code></em>&#160;:</span></td>
<td>обрабатываемое окно.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td>новая <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2632228"></a><h3>
<a name="g-io-channel-init"></a>g_io_channel_init ()</h3>
<a class="indexterm" name="id2632241"></a><pre class="programlisting">void        g_io_channel_init               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre>
<p>
Инициализирует структуру <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>. Вызывается каждой из вышеупомянутых функций когда создаётся <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>, а также часто необходима для разработчиков 
приложений (если вы создаёте новый тип <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>).
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2632321"></a><h3>
<a name="g-io-channel-new-file"></a>g_io_channel_new_file ()</h3>
<a class="indexterm" name="id2632334"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* g_io_channel_new_file           (const <a href="glib-Basic-Types.html#gchar">gchar</a> *filename,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *mode,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Открывает файл <em class="parameter"><code>filename</code></em> как <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> используя режим <em class="parameter"><code>mode</code></em>. Этот канал будет закрыт при сбросе последней ссылки на него,
поэтому нет необходимости вызывать <a href="glib-IO-Channels.html#g-io-channel-close"><code class="function">g_io_channel_close()</code></a> (такое выполнение не вызовет никаких проблем, пока не попытается обратиться к уже закрытому каналу).</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>filename</code></em>&#160;:</span></td>
<td> строка содержащая имя файла.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>mode</code></em>&#160;:</span></td>
<td> Один из режимов "r", "w", "a", "r+", "w+", "a+". Тоже самое как в <code class="function">fopen()</code>.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение возвращаемой ошибки типа <a href="glib-File-Utilities.html#G-FILE-ERROR:CAPS"><code class="literal">G_FILE_ERROR</code></a>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> при успешном выполнении, <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> при неудаче.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2632516"></a><h3>
<a name="g-io-channel-read-chars"></a>g_io_channel_read_chars ()</h3>
<a class="indexterm" name="id2632529"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_read_chars         (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Замена для <a href="glib-IO-Channels.html#g-io-channel-read"><code class="function">g_io_channel_read()</code></a> с новым API.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> буфер из которого читаются данные
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>count</code></em>&#160;:</span></td>
<td> размер буфера. Помните что буфер может быть заполнен не полностью 
     если оставшиеся данные не полный символ.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>bytes_read</code></em>&#160;:</span></td>
<td> количество читаемых байт. Может быть ноль даже при удаче, если количество &lt; 6 
     а кодировка каналов не-<a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.
             Это указывает что следующий символ UTF-8 слишком большой для буфера.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение возвращаемой ошибки типа <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a>
        или <a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> состояние операции.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2632730"></a><h3>
<a name="g-io-channel-read-unichar"></a>g_io_channel_read_unichar ()</h3>
<a class="indexterm" name="id2632744"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_read_unichar       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Unicode-Manipulation.html#gunichar">gunichar</a> *thechar,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Эта функция не может быть вызвана для канала с <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> кодировкой.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>thechar</code></em>&#160;:</span></td>
<td> расположение возвращаемого символа
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение возвращаемой ошибки типа <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a>
        или <a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOStatus"><span class="type">GIOStatus</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2632890"></a><h3>
<a name="g-io-channel-read-line"></a>g_io_channel_read_line ()</h3>
<a class="indexterm" name="id2632903"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_read_line          (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **str_return,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *length,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *terminator_pos,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Читает строку, включая завершающий символ(ы),
из <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> во вновь распределённой строке.
<em class="parameter"><code>str_return</code></em> будет содержать распределённую память если 
возвращаемое значение <a href="glib-IO-Channels.html#G-IO-STATUS-NORMAL:CAPS"><code class="literal">G_IO_STATUS_NORMAL</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>str_return</code></em>&#160;:</span></td>
<td> Читаемая строка из <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>, включая завершающий символ. Эти данные должны освобождаться с помощью <a href="glib-Memory-Allocation.html#g-free"><code class="function">g_free()</code></a>
             когда больше не нужны. Это nul-terminated строка. 
             Если возвращаемая <em class="parameter"><code>length</code></em> равна нулю, то вместо этого она будет <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>length</code></em>&#160;:</span></td>
<td> размещение для сохранения длины читаемых данных, или <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>terminator_pos</code></em>&#160;:</span></td>
<td> размещение для сохранения позиции завершающей строку, или <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение для возвращаемой ошибки типа <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a>
        или <a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> статус операции.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2633161"></a><h3>
<a name="g-io-channel-read-line-string"></a>g_io_channel_read_line_string ()</h3>
<a class="indexterm" name="id2633174"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_read_line_string   (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Strings.html#GString">GString</a> *buffer,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *terminator_pos,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Читает строку из <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>, используя <a href="glib-Strings.html#GString"><span class="type">GString</span></a> как буфер.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>buffer</code></em>&#160;:</span></td>
<td><a href="glib-Strings.html#GString"><span class="type">GString</span></a> в который записывается строка.
         Если <em class="parameter"><code>buffer</code></em> уже содержит данные, они будут перезаписаны.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>terminator_pos</code></em>&#160;:</span></td>
<td> расположение для сохранения позиции завершения строки, или <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение для сохранения ошибки типа <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a>
        или <a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> состояние операции.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2633367"></a><h3>
<a name="g-io-channel-read-to-end"></a>g_io_channel_read_to_end ()</h3>
<a class="indexterm" name="id2633380"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_read_to_end        (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> **str_return,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *length,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Читает все оставшиеся данные из файла.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>str_return</code></em>&#160;:</span></td>
<td> расположение для хранения указателя на строку содержащую
             оставшиеся данные в <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>. Эти данные должны освобождаться с помощью
             <a href="glib-Memory-Allocation.html#g-free"><code class="function">g_free()</code></a> когда больше не нужны. Эти данные
             завершаются дополнительным символом nul, но могут быть другие 
             nuls в предыдущих данных.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>length</code></em>&#160;:</span></td>
<td> расположение для хранения длины данных
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение для возвращаемой ошибки типа <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a>
        или <a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> <a href="glib-IO-Channels.html#G-IO-STATUS-NORMAL:CAPS"><code class="literal">G_IO_STATUS_NORMAL</code></a> при успешном выполнении. 
Эта функция никогда не возвращает <a href="glib-IO-Channels.html#G-IO-STATUS-EOF:CAPS"><code class="literal">G_IO_STATUS_EOF</code></a>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2633576"></a><h3>
<a name="g-io-channel-write-chars"></a>g_io_channel_write_chars ()</h3>
<a class="indexterm" name="id2633589"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_write_chars        (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gssize">gssize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Замена для <a href="glib-IO-Channels.html#g-io-channel-write"><code class="function">g_io_channel_write()</code></a> с новым API.
</p>
<p>
В каналах, с произвольным доступом к даннным, с кодировкой отличающейся от <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> или UTF-8, смешивание чтения и записи недопустимо. 
Вызов <a href="glib-IO-Channels.html#g-io-channel-write-chars"><code class="function">g_io_channel_write_chars()</code></a>
может быть сделан только в канале из которого данные были прочитаны в случае описанном в документации для <a href="glib-IO-Channels.html#g-io-channel-set-encoding"><code class="function">g_io_channel_set_encoding()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> буфер из которого записываются данные
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>count</code></em>&#160;:</span></td>
<td> размер буфера. Если -1, буфер применяется для nul-terminated строки.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>bytes_written</code></em>&#160;:</span></td>
<td> количество записываемых байт. Может быть не нулевым даже если возвращаемое значение не <a href="glib-IO-Channels.html#G-IO-STATUS-NORMAL:CAPS"><code class="literal">G_IO_STATUS_NORMAL</code></a>.
                Если возвращаемое значение <a href="glib-IO-Channels.html#G-IO-STATUS-NORMAL:CAPS"><code class="literal">G_IO_STATUS_NORMAL</code></a> и канал заблокирован, значение всегда эквивалентно <em class="parameter"><code>count</code></em> если <em class="parameter"><code>count</code></em> &gt;= 0.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> Расположение возвращаемой ошибки типа <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a>
        или <a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> статус операции.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2633850"></a><h3>
<a name="g-io-channel-write-unichar"></a>g_io_channel_write_unichar ()</h3>
<a class="indexterm" name="id2633864"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_write_unichar      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Unicode-Manipulation.html#gunichar">gunichar</a> thechar,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Эта функция не должна вызываться в канале с <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> кодировкой.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>thechar</code></em>&#160;:</span></td>
<td> символ
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение возвращаемой ошибки типа <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a>
        или <a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOStatus"><span class="type">GIOStatus</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2634010"></a><h3>
<a name="g-io-channel-flush"></a>g_io_channel_flush ()</h3>
<a class="indexterm" name="id2634023"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_flush              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Синхронизирует данные буфера записанные в памяти и на диске для GIOChannel.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение возвращаемой ошибки типа <a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> статус операции: <span class="type">G_IO_CHANNEL_NORMAL</span>, <span class="type">G_IO_CHANNEL_AGAIN</span>, или
  <a href="glib-IO-Channels.html#G-IO-CHANNEL-ERROR:CAPS"><span class="type">G_IO_CHANNEL_ERROR</span></a>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2634150"></a><h3>
<a name="g-io-channel-seek-position"></a>g_io_channel_seek_position ()</h3>
<a class="indexterm" name="id2634163"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_seek_position      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint64">gint64</a> offset,
                                             <a href="glib-IO-Channels.html#GSeekType">GSeekType</a> type,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Замена для <a href="glib-IO-Channels.html#g-io-channel-seek"><code class="function">g_io_channel_seek()</code></a> с новым API.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>offset</code></em>&#160;:</span></td>
<td> смещение в байтах из позиции определённой с помощью <em class="parameter"><code>type</code></em>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>type</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GSeekType"><span class="type">GSeekType</span></a>. Тип <a href="glib-IO-Channels.html#G-SEEK-CUR:CAPS"><code class="literal">G_SEEK_CUR</code></a> допустим только когда допустим вызов <a href="glib-IO-Channels.html#g-io-channel-set-encoding"><code class="function">g_io_channel_set_encoding()</code></a>. 
Смотрите документацию для <a href="glib-IO-Channels.html#g-io-channel-set-encoding"><code class="function">g_io_channel_set_encoding()</code></a> для детального изучения.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение возвращаемой ошибки типа <a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> статус операции.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2634366"></a><h3>
<a name="GSeekType"></a>enum GSeekType</h3>
<a class="indexterm" name="id2634378"></a><pre class="programlisting">typedef enum
{
  G_SEEK_CUR,
  G_SEEK_SET,
  G_SEEK_END
} GSeekType;
</pre>
<p>
Перечисление определяющее начальную позицию для <a href="glib-IO-Channels.html#g-io-channel-seek-position"><code class="function">g_io_channel_seek_position()</code></a> операции.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a name="G-SEEK-CUR:CAPS"></a><code class="literal">G_SEEK_CUR</code></span></td>
<td>текущая позиция в файле.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SEEK-SET:CAPS"></a><code class="literal">G_SEEK_SET</code></span></td>
<td>начало файла.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-SEEK-END:CAPS"></a><code class="literal">G_SEEK_END</code></span></td>
<td>конец файла.

</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2634477"></a><h3>
<a name="g-io-channel-shutdown"></a>g_io_channel_shutdown ()</h3>
<a class="indexterm" name="id2634490"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_shutdown           (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> flush,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **err);</pre>
<p>
Закрывает IO канал. Любые данные ждущие обработки будут записаны на диск если параметр <em class="parameter"><code>flush</code></em> равен <a href="glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a>. Канал не освобождается пока последняя ссылка не сброшена с помощью <a href="glib-IO-Channels.html#g-io-channel-unref"><code class="function">g_io_channel_unref()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>flush</code></em>&#160;:</span></td>
<td> если <a href="glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a>, ожидающие обработки данные записываются на диск синхронизируя содержимое памяти и диска
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>err</code></em>&#160;:</span></td>
<td> расположение для хранения <a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> статус операции.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2634649"></a><h3>
<a name="GIOStatus"></a>enum GIOStatus</h3>
<a class="indexterm" name="id2634662"></a><pre class="programlisting">typedef enum
{
  G_IO_STATUS_ERROR,
  G_IO_STATUS_NORMAL,
  G_IO_STATUS_EOF,
  G_IO_STATUS_AGAIN
} GIOStatus;
</pre>
<p>
Статусы возвращаемые большинством <a href="glib-IO-Channels.html#GIOFuncs"><span class="type">GIOFuncs</span></a> функций. 
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a name="G-IO-STATUS-ERROR:CAPS"></a><code class="literal">G_IO_STATUS_ERROR</code></span></td>
<td>произошла ошибка.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-STATUS-NORMAL:CAPS"></a><code class="literal">G_IO_STATUS_NORMAL</code></span></td>
<td>удачное завершение операции.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-STATUS-EOF:CAPS"></a><code class="literal">G_IO_STATUS_EOF</code></span></td>
<td>конец файла.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-STATUS-AGAIN:CAPS"></a><code class="literal">G_IO_STATUS_AGAIN</code></span></td>
<td>ресурсы временно недоступны.

</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2634781"></a><h3>
<a name="GIOChannelError"></a>enum GIOChannelError</h3>
<a class="indexterm" name="id2634794"></a><pre class="programlisting">typedef enum
{
  /* Derived from errno */
  G_IO_CHANNEL_ERROR_FBIG,
  G_IO_CHANNEL_ERROR_INVAL,
  G_IO_CHANNEL_ERROR_IO,
  G_IO_CHANNEL_ERROR_ISDIR,
  G_IO_CHANNEL_ERROR_NOSPC,
  G_IO_CHANNEL_ERROR_NXIO,
  G_IO_CHANNEL_ERROR_OVERFLOW,
  G_IO_CHANNEL_ERROR_PIPE,
  /* Other */
  G_IO_CHANNEL_ERROR_FAILED
} GIOChannelError;
</pre>
<p>
Коды ошибок возвращаемые <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> операциями.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a name="G-IO-CHANNEL-ERROR-FBIG:CAPS"></a><code class="literal">G_IO_CHANNEL_ERROR_FBIG</code></span></td>
<td>файл слишком большой.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-CHANNEL-ERROR-INVAL:CAPS"></a><code class="literal">G_IO_CHANNEL_ERROR_INVAL</code></span></td>
<td>недопустимый аргумент.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-CHANNEL-ERROR-IO:CAPS"></a><code class="literal">G_IO_CHANNEL_ERROR_IO</code></span></td>
<td>ошибка IO.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-CHANNEL-ERROR-ISDIR:CAPS"></a><code class="literal">G_IO_CHANNEL_ERROR_ISDIR</code></span></td>
<td>файл является каталогом.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-CHANNEL-ERROR-NOSPC:CAPS"></a><code class="literal">G_IO_CHANNEL_ERROR_NOSPC</code></span></td>
<td>нет свободного пространства на диске.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-CHANNEL-ERROR-NXIO:CAPS"></a><code class="literal">G_IO_CHANNEL_ERROR_NXIO</code></span></td>
<td>нет такого устройства или адреса.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-CHANNEL-ERROR-OVERFLOW:CAPS"></a><code class="literal">G_IO_CHANNEL_ERROR_OVERFLOW</code></span></td>
<td>значение слишком большое для определения типа данных.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-CHANNEL-ERROR-PIPE:CAPS"></a><code class="literal">G_IO_CHANNEL_ERROR_PIPE</code></span></td>
<td>испорченный канал.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-CHANNEL-ERROR-FAILED:CAPS"></a><code class="literal">G_IO_CHANNEL_ERROR_FAILED</code></span></td>
<td>какая то другая ошибка.

</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2635034"></a><h3>
<a name="G-IO-CHANNEL-ERROR:CAPS"></a>G_IO_CHANNEL_ERROR</h3>
<a class="indexterm" name="id2635047"></a><pre class="programlisting">#define G_IO_CHANNEL_ERROR g_io_channel_error_quark()
</pre>
<p>
Ошибочная область для <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> операций. Ошибки в этой области будут из <a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a> перечисления. Смотрите <a href="glib-Error-Reporting.html#GError"><span class="type">GError</span></a> для информации об ошибочных областях.
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2635089"></a><h3>
<a name="g-io-channel-error-from-errno"></a>g_io_channel_error_from_errno ()</h3>
<a class="indexterm" name="id2635102"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOChannelError">GIOChannelError</a> g_io_channel_error_from_errno
                                            (<a href="glib-Basic-Types.html#gint">gint</a> en);</pre>
<p>
Конвертирует номер ошибки <code class="literal">errno</code> в <a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>en</code></em>&#160;:</span></td>
<td> номер ошибки <code class="literal">errno</code>, например <code class="literal">EINVAL</code>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a> номер ошибки, например <a href="glib-IO-Channels.html#G-IO-CHANNEL-ERROR-INVAL:CAPS"><code class="literal">G_IO_CHANNEL_ERROR_INVAL</code></a>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2635216"></a><h3>
<a name="g-io-channel-ref"></a>g_io_channel_ref ()</h3>
<a class="indexterm" name="id2635229"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a>* g_io_channel_ref                (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre>
<p>
Увеличивает количество ссылок <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> <em class="parameter"><code>channel</code></em> в который был помещён (Начиная с версии 2.6)
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2635307"></a><h3>
<a name="g-io-channel-unref"></a>g_io_channel_unref ()</h3>
<a class="indexterm" name="id2635321"></a><pre class="programlisting">void        g_io_channel_unref              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre>
<p>
Уменьшает количество ссылок <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2635383"></a><h3>
<a name="g-io-create-watch"></a>g_io_create_watch ()</h3>
<a class="indexterm" name="id2635396"></a><pre class="programlisting"><a href="glib-The-Main-Event-Loop.html#GSource">GSource</a>*    g_io_create_watch               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition);</pre>
<p>
Создаёт <a href="glib-The-Main-Event-Loop.html#GSource"><span class="type">GSource</span></a> которая отправляется когда встретилось <em class="parameter"><code>condition</code></em> для данного 
<em class="parameter"><code>channel</code></em>. Например, если условие <a href="glib-IO-Channels.html#G-IO-IN:CAPS"><span class="type">G_IO_IN</span></a>, источник будет отправлен когда появятся данные доступные для чтения.  <a href="glib-IO-Channels.html#g-io-add-watch"><code class="function">g_io_add_watch()</code></a> - это более простой интерфейс для тех же самых функциональных возможностей, 
в случае когда вы хотите добавить в основной цикл по умолчанию приоритет по умолчанию.
</p>
<p>
В Windows, опрос <a href="glib-The-Main-Event-Loop.html#GSource"><span class="type">GSource</span></a> создаётся для просматриваемого канала для сокета, помещая сокет в деблокированный режим. 
Этот побочный эффект реализации неизбежен.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> to watch
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>condition</code></em>&#160;:</span></td>
<td>прсматриваемое условие
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td>новая <a href="glib-The-Main-Event-Loop.html#GSource"><span class="type">GSource</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2635548"></a><h3>
<a name="g-io-add-watch"></a>g_io_add_watch ()</h3>
<a class="indexterm" name="id2635561"></a><pre class="programlisting"><a href="glib-Basic-Types.html#guint">guint</a>       g_io_add_watch                  (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition,
                                             <a href="glib-IO-Channels.html#GIOFunc">GIOFunc</a> func,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data);</pre>
<p>
Добавляет <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> в
<a href="glib-The-Main-Event-Loop.html" title="The Main Event Loop">основной цикл собития</a>
с приоритетом по умолчанию.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>condition</code></em>&#160;:</span></td>
<td>условие для просмотра.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>func</code></em>&#160;:</span></td>
<td>функция вызываемая когда условие удовлетворено.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></td>
<td>пользовательские данные помещаемые в <em class="parameter"><code>func</code></em>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> id источника события.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2635713"></a><h3>
<a name="g-io-add-watch-full"></a>g_io_add_watch_full ()</h3>
<a class="indexterm" name="id2635726"></a><pre class="programlisting"><a href="glib-Basic-Types.html#guint">guint</a>       g_io_add_watch_full             (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint">gint</a> priority,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition,
                                             <a href="glib-IO-Channels.html#GIOFunc">GIOFunc</a> func,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> user_data,
                                             <a href="glib-Datasets.html#GDestroyNotify">GDestroyNotify</a> notify);</pre>
<p>
Добавляет <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> в
<a href="glib-The-Main-Event-Loop.html" title="The Main Event Loop">основной цикл события</a>
с полученным приоритетом.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>priority</code></em>&#160;:</span></td>
<td>приоритет <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> источника.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>condition</code></em>&#160;:</span></td>
<td>рассматриваемое условие.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>func</code></em>&#160;:</span></td>
<td>функция вызываемая при удовлетворении условия.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></td>
<td>пользовательские данные помещаемые в <em class="parameter"><code>func</code></em>.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>notify</code></em>&#160;:</span></td>
<td>функция вызываемая при удалении источника.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> id источника события.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2635930"></a><h3>
<a name="GIOCondition"></a>enum GIOCondition</h3>
<a class="indexterm" name="id2635943"></a><pre class="programlisting">typedef enum
{
  G_IO_IN	GLIB_SYSDEF_POLLIN,
  G_IO_OUT	GLIB_SYSDEF_POLLOUT,
  G_IO_PRI	GLIB_SYSDEF_POLLPRI,
  G_IO_ERR	GLIB_SYSDEF_POLLERR,
  G_IO_HUP	GLIB_SYSDEF_POLLHUP,
  G_IO_NVAL	GLIB_SYSDEF_POLLNVAL
} GIOCondition;
</pre>
<p>
Побитовые комбинации представляющие рассматриваемые условия для источника события.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a name="G-IO-IN:CAPS"></a><code class="literal">G_IO_IN</code></span></td>
<td>есть данные для чтения.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-OUT:CAPS"></a><code class="literal">G_IO_OUT</code></span></td>
<td>данные могут быть записаны (без блокировки).
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-PRI:CAPS"></a><code class="literal">G_IO_PRI</code></span></td>
<td>есть неотложные данные для чтения.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-ERR:CAPS"></a><code class="literal">G_IO_ERR</code></span></td>
<td>ошибочное условие.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-HUP:CAPS"></a><code class="literal">G_IO_HUP</code></span></td>
<td>зависание (соединение прервано, обычно для каналов и сокетов).
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-NVAL:CAPS"></a><code class="literal">G_IO_NVAL</code></span></td>
<td>неправильный запрос. Дескриптор файла не открыт.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2636102"></a><h3>
<a name="GIOFunc"></a>GIOFunc ()</h3>
<a class="indexterm" name="id2636115"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    (*GIOFunc)                      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *source,
                                             <a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> condition,
                                             <a href="glib-Basic-Types.html#gpointer">gpointer</a> data);</pre>
<p>
Определяет тип функции помещаемой в <a href="glib-IO-Channels.html#g-io-add-watch"><code class="function">g_io_add_watch()</code></a> или
<a href="glib-IO-Channels.html#g-io-add-watch-full"><code class="function">g_io_add_watch_full()</code></a>, которая вызывается когда запрашиваемое условие в 
<a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> удовлетворено.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>source</code></em>&#160;:</span></td>
<td>источник события <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>condition</code></em>&#160;:</span></td>
<td>условие которое должно удовлетворяться.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>data</code></em>&#160;:</span></td>
<td>пользовательские данные устанавливаемые в <a href="glib-IO-Channels.html#g-io-add-watch"><code class="function">g_io_add_watch()</code></a> или <a href="glib-IO-Channels.html#g-io-add-watch-full"><code class="function">g_io_add_watch_full()</code></a>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td>функция должна вернуть <a href="glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> если источник события должен быть удалён.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2636286"></a><h3>
<a name="GIOFuncs"></a>GIOFuncs</h3>
<a class="indexterm" name="id2636299"></a><pre class="programlisting">typedef struct {
  GIOStatus (*io_read)           (GIOChannel   *channel, 
			          gchar        *buf, 
				  gsize         count,
				  gsize        *bytes_read,
				  GError      **err);
  GIOStatus (*io_write)          (GIOChannel   *channel, 
				  const gchar  *buf, 
				  gsize         count,
				  gsize        *bytes_written,
				  GError      **err);
  GIOStatus (*io_seek)           (GIOChannel   *channel, 
				  gint64        offset, 
				  GSeekType     type,
				  GError      **err);
  GIOStatus  (*io_close)         (GIOChannel   *channel,
				  GError      **err);
  GSource*   (*io_create_watch)  (GIOChannel   *channel,
				  GIOCondition  condition);
  void       (*io_free)          (GIOChannel   *channel);
  GIOStatus  (*io_set_flags)     (GIOChannel   *channel,
                                  GIOFlags      flags,
				  GError      **err);
  GIOFlags   (*io_get_flags)     (GIOChannel   *channel);
} GIOFuncs;
</pre>
<p>
Таблица функций используемых для обработки разных типов <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> обычным способом.
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2629501"></a><h3>
<a name="g-io-channel-get-buffer-size"></a>g_io_channel_get_buffer_size ()</h3>
<a class="indexterm" name="id2629515"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gsize">gsize</a>       g_io_channel_get_buffer_size    (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre>
<p>
Получает размер буфера.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> размер буфера.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2629583"></a><h3>
<a name="g-io-channel-set-buffer-size"></a>g_io_channel_set_buffer_size ()</h3>
<a class="indexterm" name="id2629597"></a><pre class="programlisting">void        g_io_channel_set_buffer_size    (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> size);</pre>
<p>
Устанавливает размер буфера.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>size</code></em>&#160;:</span></td>
<td> размер буфера. 0 == подобрать наилучший размер
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2636651"></a><h3>
<a name="g-io-channel-get-buffer-condition"></a>g_io_channel_get_buffer_condition ()</h3>
<a class="indexterm" name="id2636665"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOCondition">GIOCondition</a> g_io_channel_get_buffer_condition
                                            (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre>
<p>
Эта функция возвращает <a href="glib-IO-Channels.html#GIOCondition"><span class="type">GIOCondition</span></a> в зависимости от того, есть ли данные для чтения или свободное пространство для записи данных во внутренние буферы <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>. Могут устанавливаться только флаги <a href="glib-IO-Channels.html#G-IO-IN:CAPS"><code class="literal">G_IO_IN</code></a> и
<a href="glib-IO-Channels.html#G-IO-OUT:CAPS"><code class="literal">G_IO_OUT</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOCondition"><span class="type">GIOCondition</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2636781"></a><h3>
<a name="g-io-channel-get-flags"></a>g_io_channel_get_flags ()</h3>
<a class="indexterm" name="id2636794"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOFlags">GIOFlags</a>    g_io_channel_get_flags          (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre>
<p>
Получает текущие флаги для <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>, включая флаги только для чтения такие как <a href="glib-IO-Channels.html#G-IO-FLAG-IS-READABLE:CAPS"><code class="literal">G_IO_FLAG_IS_READABLE</code></a>.
</p>
<p>
Значения флажков <a href="glib-IO-Channels.html#G-IO-FLAG-IS-READABLE:CAPS"><code class="literal">G_IO_FLAG_IS_READABLE</code></a> и <a href="glib-IO-Channels.html#G-IO-FLAG-IS-WRITEABLE:CAPS"><code class="literal">G_IO_FLAG_IS_WRITEABLE</code></a>
кэшируются для внутреннего использования каналом при его создании.
Если они позже должны измениться (например частичное завершение сокета с помощью
UNIX функции <code class="function">shutdown()</code>), пользователь должен немедленно вызвать
<a href="glib-IO-Channels.html#g-io-channel-get-flags"><code class="function">g_io_channel_get_flags()</code></a> для обновления внутренних значений этих флажков.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> флаги которые устанавливаются в канале
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2636937"></a><h3>
<a name="g-io-channel-set-flags"></a>g_io_channel_set_flags ()</h3>
<a class="indexterm" name="id2636950"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_set_flags          (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-IO-Channels.html#GIOFlags">GIOFlags</a> flags,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Устанавливает (записываемые) флаги в <em class="parameter"><code>channel</code></em> (<em class="parameter"><code>flags</code></em> &amp; <code class="literal">G_IO_CHANNEL_SET_MASK</code>).</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>flags</code></em>&#160;:</span></td>
<td> флаги для установки в канал IO.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> расположение возвращаемой ошибки типа <a href="glib-IO-Channels.html#GIOChannelError"><span class="type">GIOChannelError</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> статус операции. 
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2637095"></a><h3>
<a name="GIOFlags"></a>enum GIOFlags</h3>
<a class="indexterm" name="id2637107"></a><pre class="programlisting">typedef enum
{
  G_IO_FLAG_APPEND = 1 &lt;&lt; 0,
  G_IO_FLAG_NONBLOCK = 1 &lt;&lt; 1,
  G_IO_FLAG_IS_READABLE = 1 &lt;&lt; 2,	/* флаг доступный только для чтения */
  G_IO_FLAG_IS_WRITEABLE = 1 &lt;&lt; 3,	/* флаг доступный только для чтения */
  G_IO_FLAG_IS_SEEKABLE = 1 &lt;&lt; 4,	/* флаг доступный только для чтения */
  G_IO_FLAG_MASK = (1 &lt;&lt; 5) - 1,
  G_IO_FLAG_GET_MASK = G_IO_FLAG_MASK,
  G_IO_FLAG_SET_MASK = G_IO_FLAG_APPEND | G_IO_FLAG_NONBLOCK
} GIOFlags;
</pre>
<p>
Определяет свойства <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>. Некоторые флаги можно только читать с помощью <a href="glib-IO-Channels.html#g-io-channel-get-flags"><code class="function">g_io_channel_get_flags()</code></a>, но нельзя изменять с помощью
<a href="glib-IO-Channels.html#g-io-channel-set-flags"><code class="function">g_io_channel_set_flags()</code></a>. 
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a name="G-IO-FLAG-APPEND:CAPS"></a><code class="literal">G_IO_FLAG_APPEND</code></span></td>
<td>включает режим предварительной перемотки файла в конец (append mode), соответствует <code class="literal">O_APPEND</code> (смотрите документацию системного вызова UNIX <code class="function"><code class="function">open()</code></code>).
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-FLAG-NONBLOCK:CAPS"></a><code class="literal">G_IO_FLAG_NONBLOCK</code></span></td>
<td>включает не блокируемый режим, соответствует 
   <code class="literal">O_NONBLOCK</code>/<code class="literal">O_NDELAY</code> (смотрите документацию системного вызова UNIX 
   <code class="function"><code class="function">open()</code></code>).
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-FLAG-IS-READABLE:CAPS"></a><code class="literal">G_IO_FLAG_IS_READABLE</code></span></td>
<td>указывает что канал читаемый. Этот флаг не может изменяться.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-FLAG-IS-WRITEABLE:CAPS"></a><code class="literal">G_IO_FLAG_IS_WRITEABLE</code></span></td>
<td>указывает что канал записываемый. Этот флаг не может изменяться.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-FLAG-IS-SEEKABLE:CAPS"></a><code class="literal">G_IO_FLAG_IS_SEEKABLE</code></span></td>
<td>указывает что io канал может изменять позицию доступа (seekable), то есть что в нём может использоваться функция 
   <a href="glib-IO-Channels.html#g-io-channel-seek-position"><code class="function">g_io_channel_seek_position()</code></a>. Этот флаг не может изменяться.
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-FLAG-MASK:CAPS"></a><code class="literal">G_IO_FLAG_MASK</code></span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-FLAG-GET-MASK:CAPS"></a><code class="literal">G_IO_FLAG_GET_MASK</code></span></td>
<td>
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-FLAG-SET-MASK:CAPS"></a><code class="literal">G_IO_FLAG_SET_MASK</code></span></td>
<td>

</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2637427"></a><h3>
<a name="g-io-channel-get-line-term"></a>g_io_channel_get_line_term ()</h3>
<a class="indexterm" name="id2637440"></a><pre class="programlisting">const <a href="glib-Basic-Types.html#gchar">gchar</a>* g_io_channel_get_line_term     (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint">gint</a> *length);</pre>
<p>
Возвращает строку которую <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> использует для определения
где в файле происходит прерывание линии. Значение <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> указывает автоматическое определение.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>length</code></em>&#160;:</span></td>
<td> расположение для возвращаемой длины завершающего строку символа
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> Строка завершения линии. Этим значением владеет GLib и оно не должно освобождаться.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2637552"></a><h3>
<a name="g-io-channel-set-line-term"></a>g_io_channel_set_line_term ()</h3>
<a class="indexterm" name="id2637566"></a><pre class="programlisting">void        g_io_channel_set_line_term      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *line_term,
                                             <a href="glib-Basic-Types.html#gint">gint</a> length);</pre>
<p>
Устанавливает строку которую <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> использует для определения где в файле происходит прерывание линии.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>line_term</code></em>&#160;:</span></td>
<td> Строка прерывания линии. Используйте <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> для автоматического определения.
            Автоматическое определение прерывается на "\n", "\r\n", "\r", "\0", и
            разделителе параграфов Unicode. Автоматическое определение не должно 
            использоваться ни для чего кроме каналов основанных на файлах.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>length</code></em>&#160;:</span></td>
<td> Длина прерываемой строки. Если помещено значение -1, 
         строка будет как предполагается nul-terminated. Эта опция позволяет 
         прерывать строки с встроенным nuls.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2637692"></a><h3>
<a name="g-io-channel-get-buffered"></a>g_io_channel_get_buffered ()</h3>
<a class="indexterm" name="id2637706"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_io_channel_get_buffered       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre>
<p>
Определяет буферизуется ли <em class="parameter"><code>channel</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> <a href="glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> если <em class="parameter"><code>channel</code></em> буферизуется. 
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2637796"></a><h3>
<a name="g-io-channel-set-buffered"></a>g_io_channel_set_buffered ()</h3>
<a class="indexterm" name="id2637810"></a><pre class="programlisting">void        g_io_channel_set_buffered       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> buffered);</pre>
<p>
Состояние буферизации может быть установлено только если кодировка канала <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>. Для любых других кодировок, канал должен буферизироваться.
</p>
<p>
Буферизированный канал может быть установлен не буферизированным только если внутренние буферы 
канала были записаны на диск. Вновь созданные каналы или каналы вернувшие 
<a href="glib-IO-Channels.html#G-IO-STATUS-EOF:CAPS"><code class="literal">G_IO_STATUS_EOF</code></a>
не требуют производить такую запись. Для каналов только для записи, вызов
<a href="glib-IO-Channels.html#g-io-channel-flush"><code class="function">g_io_channel_flush()</code></a> достаточен. Для всех других каналов, буфер может быть синхронизирован с диском с помощью 
вызова <a href="glib-IO-Channels.html#g-io-channel-seek-position"><code class="function">g_io_channel_seek_position()</code></a>.
Это включает возможность перемещения позиции типа <a href="glib-IO-Channels.html#G-SEEK-CUR:CAPS"><code class="literal">G_SEEK_CUR</code></a>
и нулевое смещение. Отметьте, это значит что каналы на основе сокетов не могут быть установлены не буферизированными как только из них начнётся чтение данных.
</p>
<p>
В небуферизованных каналах, безопасно смешивать вызовы чтения и записи из новых и старых APIs, 
если это необходимо для поддержки старого кода.
</p>
<p>
По умолчанию канал имеет буферизованное состояние.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>buffered</code></em>&#160;:</span></td>
<td> является ли канал буферизированным или нет
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2637965"></a><h3>
<a name="g-io-channel-get-encoding"></a>g_io_channel_get_encoding ()</h3>
<a class="indexterm" name="id2637978"></a><pre class="programlisting">const <a href="glib-Basic-Types.html#gchar">gchar</a>* g_io_channel_get_encoding      (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre>
<p>
Получает кодировку для ввода/вывода канала. Внутренняя кодировка всегда UTF-8. 
Кодировка <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> 
делает канал безопасным для двоичных данных.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> строка содержащая кодировку, строкой владеет GLib и она не должна освобождаться.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2638061"></a><h3>
<a name="g-io-channel-set-encoding"></a>g_io_channel_set_encoding ()</h3>
<a class="indexterm" name="id2638075"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOStatus">GIOStatus</a>   g_io_channel_set_encoding       (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *encoding,
                                             <a href="glib-Error-Reporting.html#GError">GError</a> **error);</pre>
<p>
Устанавливает кодировку для ввода/вывода канала. Внутренняя кодировка всегда UTF-8. 
Кодировка по умолчанию для внешних файлов UTF-8.
</p>
<p>
Кодировка <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> безопасна для использования двоичных данных.
</p>
<p>
Кодировка может быть установлена только если выполняются следующие условия:
</p>
<p>
1. Канал был только что создан и операции чтения или записи не проводились.
</p>
<p>
2. Канал только для записи.
</p>
<p>
3. Канал это файл, а указатель файла был только что установлен с помощью вызова 
<a href="glib-IO-Channels.html#g-io-channel-seek-position"><code class="function">g_io_channel_seek_position()</code></a>.
   (Это записывает все внутренние буферы на диск.)
</p>
<p>
4. Текущая кодировка <a href="glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> или UTF-8.
</p>
<p>
5. Одна из функций (новый API) чтения возвратила <a href="glib-IO-Channels.html#G-IO-STATUS-EOF:CAPS"><code class="literal">G_IO_STATUS_EOF</code></a>
   (или, в случае <a href="glib-IO-Channels.html#g-io-channel-read-to-end"><code class="function">g_io_channel_read_to_end()</code></a>, <a href="glib-IO-Channels.html#G-IO-STATUS-NORMAL:CAPS"><code class="literal">G_IO_STATUS_NORMAL</code></a>).
</p>
<p>
6. Одна из функций <a href="glib-IO-Channels.html#g-io-channel-read-chars"><code class="function">g_io_channel_read_chars()</code></a> или <a href="glib-IO-Channels.html#g-io-channel-read-unichar"><code class="function">g_io_channel_read_unichar()</code></a>
   вернула <a href="glib-IO-Channels.html#G-IO-STATUS-AGAIN:CAPS"><code class="literal">G_IO_STATUS_AGAIN</code></a> или <a href="glib-IO-Channels.html#G-IO-STATUS-ERROR:CAPS"><code class="literal">G_IO_STATUS_ERROR</code></a>. Это может быть полезно в случае 
<a href="glib-Character-Set-Conversion.html#G-CONVERT-ERROR-ILLEGAL-SEQUENCE:CAPS"><code class="literal">G_CONVERT_ERROR_ILLEGAL_SEQUENCE</code></a>.
   Возвращение одного из этих статусов из <a href="glib-IO-Channels.html#g-io-channel-read-line"><code class="function">g_io_channel_read_line()</code></a>,
   <a href="glib-IO-Channels.html#g-io-channel-read-line-string"><code class="function">g_io_channel_read_line_string()</code></a>, или <a href="glib-IO-Channels.html#g-io-channel-read-to-end"><code class="function">g_io_channel_read_to_end()</code></a>
   <span class="emphasis"><em>не</em></span> гарантирует что кодировка может быть изменена.
</p>
<p>
Каналы которые не соответствуют одному из выше упомянутых условий не могут вызывать
<a href="glib-IO-Channels.html#g-io-channel-seek-position"><code class="function">g_io_channel_seek_position()</code></a> со смещением <a href="glib-IO-Channels.html#G-SEEK-CUR:CAPS"><code class="literal">G_SEEK_CUR</code></a>,
и если они "seekable", не могут вызывать <a href="glib-IO-Channels.html#g-io-channel-write-chars"><code class="function">g_io_channel_write_chars()</code></a> после вызова одной из функций API "read".
</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>encoding</code></em>&#160;:</span></td>
<td> тип кодировки
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></td>
<td> размещение для хранения ошибки типа <a href="glib-Character-Set-Conversion.html#GConvertError"><span class="type">GConvertError</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> <a href="glib-IO-Channels.html#G-IO-STATUS-NORMAL:CAPS"><code class="literal">G_IO_STATUS_NORMAL</code></a> если кодировка была полностью установлена.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2638443"></a><h3>
<a name="g-io-channel-get-close-on-unref"></a>g_io_channel_get_close_on_unref ()</h3>
<a class="indexterm" name="id2638457"></a><pre class="programlisting"><a href="glib-Basic-Types.html#gboolean">gboolean</a>    g_io_channel_get_close_on_unref (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre>
<p>
Определяет будет ли закрыт любой файл/сокет связанный с каналом <em class="parameter"><code>channel</code></em>
когда <em class="parameter"><code>channel</code></em> будет разрушен при удалении последней ссылки на него. По умолчанию значение <a href="glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> для каналов созданных с помощью <a href="glib-IO-Channels.html#g-io-channel-new-file"><code class="function">g_io_channel_new_file()</code></a>, а <a href="glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> для всех других каналов.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> будет ли закрыт канал при удалении последней ссылки на структуру данных GIOChannel.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2638572"></a><h3>
<a name="g-io-channel-set-close-on-unref"></a>g_io_channel_set_close_on_unref ()</h3>
<a class="indexterm" name="id2638586"></a><pre class="programlisting">void        g_io_channel_set_close_on_unref (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gboolean">gboolean</a> do_close);</pre>
<p>
Установка этого флажка в <a href="glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> для канала который уже закрыт может вызвать проблемы.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>do_close</code></em>&#160;:</span></td>
<td> закрывается ли канал при удалении последней ссылки на структуру данных GIOChannel. 
     Значение по умолчанию <a href="glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> для каналов созданных с помощью <a href="glib-IO-Channels.html#g-io-channel-new-file"><code class="function">g_io_channel_new_file()</code></a>,
           а <a href="glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> для всех других каналов.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2638710"></a><h3>
<a name="g-io-channel-read"></a>g_io_channel_read ()</h3>
<a class="indexterm" name="id2638727"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOError">GIOError</a>    g_io_channel_read               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_read);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p><code class="literal">g_io_channel_read</code> устарела начиная с версии 2.2 и не должна использоваться во вновь создаваемом коде. Используйте <a href="glib-IO-Channels.html#g-io-channel-read-chars"><code class="function">g_io_channel_read_chars()</code></a> вместо неё.</p>
</div>
<p>
Читает данные из <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>. 
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> буфер из которого читаются данные (which should be at least count bytes long).
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>count</code></em>&#160;:</span></td>
<td> количество байт читаемых из <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>bytes_read</code></em>&#160;:</span></td>
<td> возвращает фактическое количество прочтенных байт. 
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> <a href="glib-IO-Channels.html#G-IO-ERROR-NONE:CAPS"><code class="literal">G_IO_ERROR_NONE</code></a> если операция была успешно выполнена. 
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2638914"></a><h3>
<a name="GIOError"></a>enum GIOError</h3>
<a class="indexterm" name="id2638926"></a><pre class="programlisting">typedef enum
{
  G_IO_ERROR_NONE,
  G_IO_ERROR_AGAIN,
  G_IO_ERROR_INVAL,
  G_IO_ERROR_UNKNOWN
} GIOError;
</pre>
<p>
<a href="glib-IO-Channels.html#GIOError"><span class="type">GIOError</span></a> используется только устаревшими функциями <a href="glib-IO-Channels.html#g-io-channel-read"><code class="function">g_io_channel_read()</code></a>,
<a href="glib-IO-Channels.html#g-io-channel-write"><code class="function">g_io_channel_write()</code></a>, и <a href="glib-IO-Channels.html#g-io-channel-seek"><code class="function">g_io_channel_seek()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><a name="G-IO-ERROR-NONE:CAPS"></a><code class="literal">G_IO_ERROR_NONE</code></span></td>
<td>нет ошибки
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-ERROR-AGAIN:CAPS"></a><code class="literal">G_IO_ERROR_AGAIN</code></span></td>
<td>произошла ошибка EAGAIN
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-ERROR-INVAL:CAPS"></a><code class="literal">G_IO_ERROR_INVAL</code></span></td>
<td>произошла ошибка EINVAL
</td>
</tr>
<tr>
<td><span class="term"><a name="G-IO-ERROR-UNKNOWN:CAPS"></a><code class="literal">G_IO_ERROR_UNKNOWN</code></span></td>
<td>произошла другая ошибка

</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2639077"></a><h3>
<a name="g-io-channel-write"></a>g_io_channel_write ()</h3>
<a class="indexterm" name="id2639094"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOError">GIOError</a>    g_io_channel_write              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             const <a href="glib-Basic-Types.html#gchar">gchar</a> *buf,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> count,
                                             <a href="glib-Basic-Types.html#gsize">gsize</a> *bytes_written);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p><code class="literal">g_io_channel_write</code> устарела начиная с версии 2.2 и не должна использоваться во вновь создаваемом коде. Используйте <a href="glib-IO-Channels.html#g-io-channel-write-chars"><code class="function">g_io_channel_write_chars()</code></a> вместо неё.</p>
</div>
<p>
Записывает данные в <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td>  a <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> буфер содержащий данные для записи. 
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>count</code></em>&#160;:</span></td>
<td> количество байт для записи.
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>bytes_written</code></em>&#160;:</span></td>
<td>  количество фактически записанных байт.
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td>  <a href="glib-IO-Channels.html#G-IO-ERROR-NONE:CAPS"><code class="literal">G_IO_ERROR_NONE</code></a> если операция полностью выполнена.

</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2639271"></a><h3>
<a name="g-io-channel-seek"></a>g_io_channel_seek ()</h3>
<a class="indexterm" name="id2639287"></a><pre class="programlisting"><a href="glib-IO-Channels.html#GIOError">GIOError</a>    g_io_channel_seek               (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel,
                                             <a href="glib-Basic-Types.html#gint64">gint64</a> offset,
                                             <a href="glib-IO-Channels.html#GSeekType">GSeekType</a> type);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p><code class="literal">g_io_channel_seek</code> устарела начиная с версии 2.2 и не должна использоваться во вновь создаваемом коде. Используйте <a href="glib-IO-Channels.html#g-io-channel-seek-position"><code class="function">g_io_channel_seek_position()</code></a> вместо неё.</p>
</div>
<p>
Устанавливает текущую позицию в <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>, подобна стандартной библиотечной функции <code class="function">fseek()</code>.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>. 
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>offset</code></em>&#160;:</span></td>
<td> смещение в байтах, которое добавляется в позицию определённую <em class="parameter"><code>type</code></em>
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>type</code></em>&#160;:</span></td>
<td> позиция в файе, которая может быть <a href="glib-IO-Channels.html#G-SEEK-CUR:CAPS"><code class="literal">G_SEEK_CUR</code></a> (текущая позиция), 
<a href="glib-IO-Channels.html#G-SEEK-SET:CAPS"><code class="literal">G_SEEK_SET</code></a> (начало файла), или <a href="glib-IO-Channels.html#G-SEEK-END:CAPS"><code class="literal">G_SEEK_END</code></a> (конец файла).
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Возвращает</em></span>&#160;:</span></td>
<td> <a href="glib-IO-Channels.html#G-IO-ERROR-NONE:CAPS"><code class="literal">G_IO_ERROR_NONE</code></a> если операция выполнена успешно.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2639495"></a><h3>
<a name="g-io-channel-close"></a>g_io_channel_close ()</h3>
<a class="indexterm" name="id2639511"></a><pre class="programlisting">void        g_io_channel_close              (<a href="glib-IO-Channels.html#GIOChannel">GIOChannel</a> *channel);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Внимание</h3>
<p><code class="literal">g_io_channel_close</code> устарела начиная с версии 2.2 и не должна использоваться во вновь создаваемом коде. Используйте <a href="glib-IO-Channels.html#g-io-channel-shutdown"><code class="function">g_io_channel_shutdown()</code></a> вместо неё.</p>
</div>
<p>
Закрывает IO канал. Любые данные ожидающие обработки записываются на диск, 
игнорируя ошибки. Канал не будет освобождён пока не сброшена последняя ссылка с помощью 
<a href="glib-IO-Channels.html#g-io-channel-unref"><code class="function">g_io_channel_unref()</code></a>.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>channel</code></em>&#160;:</span></td>
<td><a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a>
</td>
</tr></tbody>
</table></div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2639606"></a><h2>Смотрите также</h2>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><code class="function">gtk_input_add_full()</code>, <code class="function">gtk_input_remove()</code>, <code class="function">gdk_input_add()</code>,
<code class="function">gdk_input_add_full()</code>, <code class="function">gdk_input_remove()</code></span></td>
<td><p>
Удобные функции для создания <a href="glib-IO-Channels.html#GIOChannel"><span class="type">GIOChannel</span></a> и добавления его в 
<a href="glib-The-Main-Event-Loop.html" title="The Main Event Loop">основной цикл события</a>.
</p></td>
</tr></tbody>
</table></div>
<p>
</p>
</div>
</div>
</body>
</html>
