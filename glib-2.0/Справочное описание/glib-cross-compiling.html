<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Cross-compiling the GLib package</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
<link rel="start" href="index.html" title="GLib Reference Manual">
<link rel="up" href="glib.html" title="GLib Overview">
<link rel="prev" href="glib-building.html" title="Compiling the GLib package">
<link rel="next" href="glib-compiling.html" title="Compiling GLib Applications">
<meta name="generator" content="GTK-Doc V1.7 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="glib.html" title="GLib Overview">
<link rel="chapter" href="glib-fundamentals.html" title="GLib Fundamentals">
<link rel="chapter" href="glib-core.html" title="GLib Core Application Support">
<link rel="chapter" href="glib-utilities.html" title="GLib Utilities">
<link rel="chapter" href="glib-data-types.html" title="GLib Data Types">
<link rel="chapter" href="tools.html" title="GLib Tools">
<link rel="index" href="ix01.html" title="Index">
<link rel="index" href="ix02.html" title="Index of deprecated symbols">
<link rel="index" href="ix03.html" title="Index of new symbols in 2.2">
<link rel="index" href="ix04.html" title="Index of new symbols in 2.4">
<link rel="index" href="ix05.html" title="Index of new symbols in 2.6">
<link rel="index" href="ix06.html" title="Index of new symbols in 2.8">
<link rel="index" href="ix07.html" title="Index of new symbols in 2.10">
<link rel="index" href="ix08.html" title="Index of new symbols in 2.12">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle">
<td><a accesskey="p" href="glib-building.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="glib.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Справочное описание GLib</th>
<td><a accesskey="n" href="glib-compiling.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry" lang="en">
<a name="glib-cross-compiling"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle">Cross-компиляция пакета GLib</span></h2>
<p>Cross-compiling the GLib Package &#8212; 
Как скомпилировать пакет GLib для разных платформ.
</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsect1" lang="en">
<a name="cross"></a><h2>Сборка библиотеки для разных архитектур</h2>
<p>
        Cross-компиляция это процесс компиляции программ или 
        библиотек на разных архитектурах или операционных системах
        на которых они будут выполняться. GLib немного сложна для 
        cross-компиляции чем большинство пакетов потому что большая часть GLib
        о скрытых различиях между разными системами. 
</p>
<p>
        Данные замечания разъясняют специфику cross-компиляции GLib;
        основную информацию о cross-компиляции, смотрите в
        <span class="application">autoconf</span> info pages.
</p>
<p>
        GLib попытается обнаружить как можно больше информации о
        целевой системе с помощью компиляции и линковки программ
        ничего фактически не выполняя; однако, некоторая информация
        необходимая GLib не доступна таким способом. Эту информацию 
        нужно обеспечить для скрипта configure через "cache file"
        или с помощью настроек переменных в вашем окружении.
      </p>
<p>
        Как пример использования кэш файла (cache file), при cross-компиляции
        для "MingW32" Win32 окружения на Linux системе,
        создаём файл 'win32.cache' со следующим содержимым:
      </p>
<pre class="programlisting"> 
glib_cv_long_long_format=I64
glib_cv_stack_grows=no
      </pre>
<p>
        Затем выполняем следующие команды:
      </p>
<pre class="programlisting">
PATH=/path/to/mingw32-compiler/bin:$PATH
chmod a-w win32.cache   # prevent configure from changing it
./configure --cache-file=win32.cache --host=mingw32
      </pre>
<p>
        Полный список переменных кэш файла следующий. Большинство 
        из этого не нужно устанавливать в большинстве случаев.
      </p>
</div>
<div class="refsect1" lang="en">
<a name="cache-file-variables"></a><h2>Переменные кэш файла</h2>
<p><b>glib_cv_long_long_format=[ll/q/I64].&#160;</b>
           Формат используемой <code class="function">printf()</code> и 
           <code class="function">scanf()</code> для 64 bit целых. "ll" это 
           стандарт C99, что означает использование библиотеки 'trio'
           которую GLib соберёт если ваша <code class="function">printf()</code> 
           недостаточно функциональна.
           Не нужно устанавливать если вы собираетесь компилировать с использованием trio.
        </p>
<p><b>glib_cv_stack_grows=[yes/no].&#160;</b>
           Увеличение стека вверх или вниз. Для большинства необходимо "no",
           некоторые архитектуры, такие как PA-RISC нуждаются в "yes".
        </p>
<p><b>glib_cv_working_bcopy=[yes/no].&#160;</b>
           Может ли ваш <code class="function">bcopy()</code> обрабатывать перекрывающиеся 
           копии. Нужно установить только если вы не имеете 
           <code class="function">memmove()</code>. (Очень вряд ли)
	</p>
<p><b>glib_cv_sane_realloc=[yes/np].&#160;</b>  
            Соответствует ли ваш <code class="function">realloc()</code> ANSI C 
            и может ли обрабатывать <code class="literal">NULL</code> как первый аргумент. 
            По умолчанию "yes" и вероятно не потребуется переустанавливать.
	</p>
<p><b>glib_cv_have_strlcpy=[yes/no].&#160;</b>
            Имеете ли вы <code class="function">strlcpy()</code> соответствующую 
            OpenBSD. По умолчанию "no", что является безопасным, поэтому GLib использует 
            встроенную версию в этом случае.
	</p>
<p><b>glib_cv_va_val_copy=[yes/no].&#160;</b>
            Может ли <span class="type">va_list</span> копироваться как указатель. Если 
            установлено в "no", то используется <code class="function">memcopy()</code>.
            Имеет смысл только если у вас нет <code class="function">va_copy()</code> или 
            <code class="function">__va_copy()</code>. (Поэтому не имеет значения для GCC.) 
            По умолчанию "yes" что намного чаще необходимо чем "no".
	</p>
<p><b>glib_cv_rtldglobal_broken=[yes/no].&#160;</b>
            Обнаруживается ли ошибка в OSF/1 v5.0. По умолчанию "no".
         </p>
<p><b>glib_cv_uscore=[yes/no].&#160;</b>
            Нужно ли подчёркивание перед символами при поиске их
            через <code class="function">dlsym()</code>. Необходимо для установки только 
            если система использует
	    <code class="function">dlopen()</code>/<code class="function">dlsym()</code>.
	 </p>
<p><b>ac_cv_func_posix_getpwuid_r=[yes/no].&#160;</b>
            Имеете ли вы функцию getpwuid_r (в вашей C библиотеке, а не 
	    библиотеке потока) которая соответствует спецификации POSIX.
            (Берёт 'struct passwd **' как последний параметр)
         </p>
<p><b>ac_cv_func_nonposix_getpwuid_r=[yes/no].&#160;</b>
            Имеете ли вы какой нибудь вариант <code class="function">getpwuid_r()</code>
            который не соответствует спецификации POSIX, но мог бы использоваться GLib
            (or might segfault.) Нужно установить только если 
	    <code class="literal">ac_cv_func_posix_getpwuid_r</code> не установлен. 
            Безопасней устанавливать в "no".
         </p>
<p><b>glib_cv_use_pid_surrogate=[yes/no].&#160;</b>
            Используется ли <code class="function">setpriority()</code> в PID  
            нити как метод для настройки приоритетов нитей (threads). Устанавливается только 
            при использовании POSIX threads.
         </p>
<p><b>ac_cv_func_printf_unix98=[yes/no].&#160;</b>
           Поддерживает ли ваше семейство <code class="function">printf()</code> стиль Unix98 
           <code class="literal">%N$</code> параметров позиционирования. По умолчанию "no".
         </p>
<p><b>ac_cv_func_vsnprintf_c99=[yes/no].&#160;</b>
            Имеете ли вы <code class="function">vsnprintf()</code> с семантикой C99 
            (C99 семантика означает возвращение количество байт 
            которые должны быть записаны имея буфер достаточного размера).
            По умолчанию "no".
         </p>
<br>
</div>
</div>
</body>
</html>
